import{_ as t,c as e,o as n,N as l}from"./chunks/framework.fc67cb9d.js";const h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"component/open-data.md","lastUpdated":1685603474000}'),a={name:"component/open-data.md"},s=l(`<h4 id="open-data" tabindex="-1">open-data <a class="header-anchor" href="#open-data" aria-label="Permalink to &quot;open-data&quot;">​</a></h4><p>用于展示平台开放的数据。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序</th><th style="text-align:center;">飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快应用</th><th style="text-align:center;">360小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td></tr></tbody></table><p><strong>Tips</strong></p><p>该功能为各小程序平台提供的开放能力。App端和H5端不涉及此概念。</p><p>支付宝没有open-data组件，但提供了API方式获取相关信息。<a href="https://docs.alipay.com/mini/api/ch8chh" target="_blank" rel="noreferrer">参考</a></p><p><strong>属性说明</strong></p><table><thead><tr><th style="text-align:center;">属性名</th><th style="text-align:center;">类型</th><th style="text-align:center;">默认值</th><th style="text-align:center;">说明</th><th style="text-align:center;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:center;">type</td><td style="text-align:center;">String</td><td style="text-align:center;"></td><td style="text-align:center;">开放数据类型</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">open-gid</td><td style="text-align:center;">String</td><td style="text-align:center;"></td><td style="text-align:center;">当 type=&quot;groupName&quot; 时生效, 群id</td><td style="text-align:center;">微信小程序、QQ小程序</td></tr><tr><td style="text-align:center;">lang</td><td style="text-align:center;">String</td><td style="text-align:center;">en</td><td style="text-align:center;">当 type=&quot;user*&quot; 时生效，以哪种语言展示 userInfo，有效值有：en, zh_CN, zh_TW</td><td style="text-align:center;">微信小程序、QQ小程序</td></tr></tbody></table><p><strong>type 有效值</strong></p><table><thead><tr><th style="text-align:center;">值</th><th style="text-align:center;">说明</th><th style="text-align:center;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:center;">userNickName</td><td style="text-align:center;">用户昵称</td><td style="text-align:center;">微信小程序基础库 <code>1.9.90+</code> 返回 <code>&quot;微信用户&quot;</code></td></tr><tr><td style="text-align:center;">userAvatarUrl</td><td style="text-align:center;">用户头像</td><td style="text-align:center;">微信小程序基础库 <code>1.9.90+</code> 不再返回，展示 <a href="https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0" target="_blank" rel="noreferrer">灰色头像</a></td></tr><tr><td style="text-align:center;">userGender</td><td style="text-align:center;">用户性别</td><td style="text-align:center;">微信小程序基础库 <code>1.9.90+</code> 不再返回</td></tr><tr><td style="text-align:center;">groupName</td><td style="text-align:center;">拉取群名称</td><td style="text-align:center;">微信小程序、QQ小程序</td></tr><tr><td style="text-align:center;">userCity</td><td style="text-align:center;">用户所在城市</td><td style="text-align:center;">微信小程序基础库 <code>1.9.90+</code> 不再返回、QQ小程序</td></tr><tr><td style="text-align:center;">userProvince</td><td style="text-align:center;">用户所在省份</td><td style="text-align:center;">微信小程序基础库 <code>1.9.90+</code> 不再返回、QQ小程序</td></tr><tr><td style="text-align:center;">userCountry</td><td style="text-align:center;">用户所在国家</td><td style="text-align:center;">微信小程序基础库 <code>1.9.90+</code> 不再返回、QQ小程序</td></tr><tr><td style="text-align:center;">userLanguage</td><td style="text-align:center;">用户的语言</td><td style="text-align:center;">微信小程序基础库 <code>1.9.90+</code> 不再返回、QQ小程序</td></tr></tbody></table><p><strong>注意</strong></p><ul><li>微信小程序平台从 <code>2022年2月21日24时起</code> 回收通过 <code>&lt;open-data&gt;</code> 展示个人信息的能力，<a href="https://developers.weixin.qq.com/community/develop/doc/000e881c7046a8fa1f4d464105b001?blockType=1" target="_blank" rel="noreferrer">详情</a>。若小程序需收集用户昵称头像等信息，可以通过 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/userProfile.html" target="_blank" rel="noreferrer">头像昵称填写功能</a> 进行收集。具体回收方式为： <ul><li>头像展示 <a href="https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0" target="_blank" rel="noreferrer">灰色头像</a></li><li>用户昵称展示 <code>微信用户</code></li><li>用户性别、地区、语言展示为为空 <code>“”</code></li></ul></li><li>小程序通过 <code>&lt;open-data&gt;</code> 展示群名称能力保留，平台会针对小程序生命周期内首次调用该组件展示群名称向用户提示：“群名称仅你可见，小程序无法获取。”</li></ul><p><strong>示例</strong></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">open-data</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userNickName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">open-data</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">open-data</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userAvatarUrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">open-data</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">open-data</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userGender</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">open-data</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div>`,15),r=[s];function o(d,c,p,i,y,g){return n(),e("div",null,r)}const F=t(a,[["render",o]]);export{h as __pageData,F as default};
