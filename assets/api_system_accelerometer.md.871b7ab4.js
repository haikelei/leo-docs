import{_ as t,c as e,o as l,N as s}from"./chunks/framework.fc67cb9d.js";const x=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/system/accelerometer.md","lastUpdated":1685603474000}'),n={name:"api/system/accelerometer.md"},a=s(`<h3 id="uni-onaccelerometerchange-callback" tabindex="-1">uni.onAccelerometerChange(CALLBACK) <a class="header-anchor" href="#uni-onaccelerometerchange-callback" aria-label="Permalink to &quot;uni.onAccelerometerChange(CALLBACK)&quot;">​</a></h3><p>监听加速度数据，频率：5次/秒，接口调用后会自动开始监听，可使用 <code>uni.offAccelerometer</code> 取消监听。</p><p><strong>参数</strong></p><p>function listener</p><p>加速度数据事件的监听函数</p><p><strong>参数</strong></p><p>Object res</p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">x</td><td style="text-align:left;">Number</td><td style="text-align:left;">X 轴</td></tr><tr><td style="text-align:left;">y</td><td style="text-align:left;">Number</td><td style="text-align:left;">Y 轴</td></tr><tr><td style="text-align:left;">z</td><td style="text-align:left;">Number</td><td style="text-align:left;">Z 轴</td></tr></tbody></table><p><strong>Tips</strong></p><ul><li>H5端获取加速度信息，需要部署在 <strong>https</strong> 服务上，本地预览（localhost）仍然可以使用 http 协议。</li></ul><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onAccelerometerChange</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">z</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="uni-offaccelerometerchange-callback" tabindex="-1">uni.offAccelerometerChange(CALLBACK) <a class="header-anchor" href="#uni-offaccelerometerchange-callback" aria-label="Permalink to &quot;uni.offAccelerometerChange(CALLBACK)&quot;">​</a></h3><p>取消监听加速度数据。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">HBuilderX 2.9.6+</td><td style="text-align:center;">HBuilderX 2.9.6+</td><td style="text-align:center;">基础库 2.9.3+</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><p><strong>参数</strong></p><p>function listener</p><p>onAccelerometerChange 传入的监听函数。不传此参数则移除所有监听函数。</p><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> listener </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onAccelerometerChange</span><span style="color:#A6ACCD;">(listener)</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">offAccelerometerChange</span><span style="color:#A6ACCD;">(listener) </span><span style="color:#676E95;font-style:italic;">// 需传入与监听时同一个的函数对象</span></span>
<span class="line"></span></code></pre></div><h3 id="uni-startaccelerometer-object" tabindex="-1">uni.startAccelerometer(OBJECT) <a class="header-anchor" href="#uni-startaccelerometer-object" aria-label="Permalink to &quot;uni.startAccelerometer(OBJECT)&quot;">​</a></h3><p>开始监听加速度数据。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><p><strong>OBJECT 参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">interval</td><td style="text-align:left;">String</td><td style="text-align:left;">normal</td><td style="text-align:left;">否</td><td style="text-align:left;">监听加速度数据回调函数的执行频率</td><td style="text-align:left;">微信小程序、百度小程序、QQ小程序、快手小程序、京东小程序</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td><td style="text-align:left;"> </td></tr></tbody></table><p><code>interval</code> 的合法值</p><table><thead><tr><th style="text-align:left;">值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">game</td><td style="text-align:left;">适用于更新游戏的回调频率，在 20ms/次 左右</td></tr><tr><td style="text-align:left;">ui</td><td style="text-align:left;">适用于更新 UI 的回调频率，在 60ms/次 左右</td></tr><tr><td style="text-align:left;">normal</td><td style="text-align:left;">普通的回调频率，在 200ms/次 左右</td></tr></tbody></table><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">startAccelerometer</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="uni-stopaccelerometer-object" tabindex="-1">uni.stopAccelerometer(OBJECT) <a class="header-anchor" href="#uni-stopaccelerometer-object" aria-label="Permalink to &quot;uni.stopAccelerometer(OBJECT)&quot;">​</a></h3><p>停止监听加速度数据。</p><p><strong>OBJECT 参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stopAccelerometer</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div>`,37),o=[a];function r(p,c,i,d,y,g){return l(),e("div",null,o)}const A=t(n,[["render",r]]);export{x as __pageData,A as default};
