import{_ as t,c as l,o as s,N as e}from"./chunks/framework.fc67cb9d.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"component/rich-text.md","lastUpdated":1685603474000}'),n={name:"component/rich-text.md"},a=e(`<h4 id="rich-text" tabindex="-1">rich-text <a class="header-anchor" href="#rich-text" aria-label="Permalink to &quot;rich-text&quot;">​</a></h4><p>富文本。</p><p>支持默认事件，包括：click、touchstart、touchmove、touchcancel、touchend、longpress。</p><p><strong>属性说明</strong></p><table><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台兼容</th></tr></thead><tbody><tr><td style="text-align:left;">nodes</td><td style="text-align:left;">Array / String</td><td style="text-align:left;">[]</td><td style="text-align:left;">节点列表 / HTML String</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">space</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;">显示连续空格</td><td style="text-align:left;">App、H5、微信基础库2.4.1+<a href="https://developers.weixin.qq.com/miniprogram/dev/component/rich-text.html" target="_blank" rel="noreferrer">详见</a>、QQ小程序、字节小程序、快手小程序<a href="https://mp.kuaishou.com/docs/develop/components/basicComponents/richText.html" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">selectable</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">富文本是否可以长按选中，可用于复制，粘贴等场景</td><td style="text-align:left;">百度小程序（仅真机支持，基础库 3.150.1 以下版本默认为 false）</td></tr><tr><td style="text-align:left;">image-menu-prevent</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">阻止长按图片时弹起默认菜单（将该属性设置为image-menu-prevent或image-menu-prevent=&quot;true&quot;），只在初始化时有效，不能动态变更；若不想阻止弹起默认菜单，则不需要设置此属性</td><td style="text-align:left;">百度小程序</td></tr><tr><td style="text-align:left;">preview</td><td style="text-align:left;">Boolean</td><td style="text-align:left;"></td><td style="text-align:left;">富文本中的图片是否可点击预览。在不设置的情况下，若 rich-text 未监听点击事件，则默认开启。未显示设置 preview 时会进行点击默认预览判断，建议显示设置 preview</td><td style="text-align:left;">百度小程序</td></tr><tr><td style="text-align:left;">@itemclick</td><td style="text-align:left;">EventHandle</td><td style="text-align:left;"></td><td style="text-align:left;">拦截点击事件（只支持 <code>a</code>、<code>img</code>标签），返回当前node信息 <code>event.detail={node}</code></td><td style="text-align:left;">H5 (3.2.13+)、App-Vue (3.2.13+)</td></tr></tbody></table><h5 id="nodes" tabindex="-1">nodes <a class="header-anchor" href="#nodes" aria-label="Permalink to &quot;nodes&quot;">​</a></h5><p>nodes 值为 HTML String 时，在组件内部将自动解析为节点列表，推荐直接使用 Array 类型避免内部转换导致的性能下降。App-nvue 和支付宝小程序不支持 HTML String 方式，仅支持直接使用节点列表即 Array 类型，如要使用 HTML String，则需自己将 HTML String 转化为 nodes 数组，可使用 <a href="https://github.com/dcloudio/hello-uniapp/blob/master/common/html-parser.js" target="_blank" rel="noreferrer">html-parser</a> 转换。</p><p>节点列表内的节点现支持两种类型，通过 type 来区分，分别是元素节点和文本节点，默认是元素节点，在富文本区域里显示的 HTML 节点。</p><p><strong>元素节点：type = node</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td style="text-align:left;">name</td><td style="text-align:left;">标签名</td><td style="text-align:left;">String</td><td style="text-align:left;">是</td><td style="text-align:left;">支持部分受信任的 HTML 节点</td></tr><tr><td style="text-align:left;">attrs</td><td style="text-align:left;">属性</td><td style="text-align:left;">Object</td><td style="text-align:left;">否</td><td style="text-align:left;">支持部分受信任的属性，遵循 Pascal 命名法</td></tr><tr><td style="text-align:left;">children</td><td style="text-align:left;">子节点列表</td><td style="text-align:left;">Array</td><td style="text-align:left;">否</td><td style="text-align:left;">结构和 nodes 一致</td></tr></tbody></table><p><strong>文本节点：type = text</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td style="text-align:left;">text</td><td style="text-align:left;">文本</td><td style="text-align:left;">String</td><td style="text-align:left;">是</td><td style="text-align:left;">支持 entities</td></tr></tbody></table><h5 id="受信任的html节点及属性" tabindex="-1">受信任的HTML节点及属性 <a class="header-anchor" href="#受信任的html节点及属性" aria-label="Permalink to &quot;受信任的HTML节点及属性&quot;">​</a></h5><p>全局支持 class 和 style 属性，<strong>不支持 id 属性</strong>。</p><table><thead><tr><th style="text-align:left;">节点</th><th style="text-align:left;">属性</th></tr></thead><tbody><tr><td style="text-align:left;">a</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">abbr</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">b</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">blockquote</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">br</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">code</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">col</td><td style="text-align:left;">span，width</td></tr><tr><td style="text-align:left;">colgroup</td><td style="text-align:left;">span，width</td></tr><tr><td style="text-align:left;">dd</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">del</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">div</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">dl</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">dt</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">em</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">fieldset</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">h1</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">h2</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">h3</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">h4</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">h5</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">h6</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">hr</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">i</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">img</td><td style="text-align:left;">alt，src，height，width</td></tr><tr><td style="text-align:left;">ins</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">label</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">legend</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">li</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">ol</td><td style="text-align:left;">start，type</td></tr><tr><td style="text-align:left;">p</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">q</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">span</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">strong</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">sub</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">sup</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">table</td><td style="text-align:left;">width</td></tr><tr><td style="text-align:left;">tbody</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">td</td><td style="text-align:left;">colspan，height，rowspan，width</td></tr><tr><td style="text-align:left;">tfoot</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">th</td><td style="text-align:left;">colspan，height，rowspan，width</td></tr><tr><td style="text-align:left;">thead</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">tr</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">ul</td><td style="text-align:left;"> </td></tr></tbody></table><p><strong>示例</strong> <a href="https://hellouniapp.dcloud.net.cn/pages/component/rich-text/rich-text" target="_blank" rel="noreferrer">查看演示</a></p><p>以下示例代码，来自于<a href="https://github.com/dcloudio/hello-uniapp" target="_blank" rel="noreferrer">hello uni-app项目</a>，推荐使用HBuilderX，新建uni-app项目，选择hello uni-app模板，可直接体验完整示例。</p><p>::: preview <a href="https://hellouniapp.dcloud.net.cn/pages/component/rich-text/rich-text" target="_blank" rel="noreferrer">https://hellouniapp.dcloud.net.cn/pages/component/rich-text/rich-text</a></p><blockquote><p>Template</p></blockquote><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- 本示例未包含完整css，获取外链css请参考上文，在hello uni-app项目中查看 --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">content</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">page-head</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:title</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">page-head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uni-padding-wrap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uni-title uni-common-mt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">				数组类型</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\\nnodes属性为Array</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uni-common-mt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">background:#FFF; padding:20rpx;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rich-text</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:nodes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nodes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">rich-text</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uni-title uni-common-mt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">				字符串类型</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\\nnodes属性为String</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uni-common-mt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">background:#FFF; padding:20rpx;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rich-text</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:nodes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">strings</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">rich-text</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><blockquote><p>Script</p></blockquote><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            nodes</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                attrs</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                    class</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div-class</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                    style</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">line-height: 60px; color: red; text-align:center;</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">                children</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                    type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                    text</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello&amp;nbsp;uni-app!</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            strings</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;https://web-assets.dcloud.net.cn/unidoc/zh/uni@2x.png&quot;/&gt;&lt;/div&gt;</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>:::</p><p><strong>Tips</strong></p><ul><li>nodes 不推荐使用 String 类型，性能会有所下降。</li><li>rich-text 组件内屏蔽所有节点的事件。所以如果内容中有链接、图片需要点击，则不能使用rich-text，此时可在<a href="https://ext.dcloud.net.cn/search?q=parse" target="_blank" rel="noreferrer">uni-app插件市场</a>搜索parse插件使用。app-vue的rich-text组件支持链接图片点击。</li><li>attrs 属性不支持 id ，支持 class 。</li><li>name 属性大小写不敏感。</li><li>如果使用了不受信任的HTML节点，该节点及其所有子节点将会被移除。</li><li>非 App 平台 img 标签仅支持网络图片。</li><li>如果在自定义组件中使用 rich-text 组件，那么仅自定义组件的 css 样式对 rich-text 中的 class 生效。</li><li>使用 <code>itemclick</code> 时，如果发生节点嵌套，外层 <code>a标签</code> 优先级高。</li></ul>`,25),p=[a];function o(r,c,y,d,i,F){return s(),l("div",null,p)}const x=t(n,[["render",o]]);export{g as __pageData,x as default};
