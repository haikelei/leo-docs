import{_ as t,c as e,o as l,N as a}from"./chunks/framework.fc67cb9d.js";const p=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/ui/locale.md","lastUpdated":1685603474000}'),n={name:"api/ui/locale.md"},i=a('<h3 id="uni-getlocale" tabindex="-1">uni.getLocale() <a class="header-anchor" href="#uni-getlocale" aria-label="Permalink to &quot;uni.getLocale()&quot;">​</a></h3><p>获取当前设置的语言</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">华为快应用</th><th style="text-align:center;">360小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">3.2.5+</td><td style="text-align:center;">3.2.5+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td></tr></tbody></table><p>如果当前应用设置过语言，会获取到之前设置的语言，未设置时会返回根据系统语言类型自动选择的语言。</p><h3 id="uni-setlocale-locale" tabindex="-1">uni.setLocale(locale) <a class="header-anchor" href="#uni-setlocale-locale" aria-label="Permalink to &quot;uni.setLocale(locale)&quot;">​</a></h3><p>设置当前语言</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">华为快应用</th><th style="text-align:center;">360小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">3.2.5+</td><td style="text-align:center;">3.2.5+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td></tr></tbody></table><p>仅可设置为框架内置语言与<a href="/leo-docs/tutorial/i18n.html#uni-framework">自定义扩展的语言</a>，遵循 BCP47 规范。</p><p><strong>参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th></tr></thead><tbody><tr><td style="text-align:left;">locale</td><td style="text-align:left;">String</td><td style="text-align:left;">是</td></tr></tbody></table><h3 id="uni-onlocalechange-callback" tabindex="-1">uni.onLocaleChange(callback) <a class="header-anchor" href="#uni-onlocalechange-callback" aria-label="Permalink to &quot;uni.onLocaleChange(callback)&quot;">​</a></h3><p>用于监听应用语言切换</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">华为快应用</th><th style="text-align:center;">360小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">3.2.7+</td><td style="text-align:center;">3.2.7+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td><td style="text-align:center;">3.4.14+</td></tr></tbody></table><p><strong>callback返回参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">locale</td><td style="text-align:left;">String</td><td style="text-align:left;">当前语言</td></tr></tbody></table><h3 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h3><ul><li>组件和接口显示会根据设置的语言环境自动切换，未支持的系统语言环境会显示为英文。</li><li>App-Android、App-iOS 平台修改系统语言后会重启应用。</li><li>App-Android 平台设置新的语言后会自动重启应用。</li><li>框架内置如下语言，如需自定义内容或增加其他语言参考：<a href="https://uniapp.dcloud.io/collocation/i18n?id=uni-framework" target="_blank" rel="noreferrer">自定义国际化内容</a>。 <ul><li>英语 en</li><li>中文简体 zh-Hans</li><li>繁体 zh-Hant</li><li>法语 fr</li><li>西班牙语 es</li></ul></li><li>在 <a href="/leo-docs/collocation/manifest.html">manifest.json</a> -&gt; locale 可以配置应用的默认语言。</li><li>仅 3.1.5 - 3.2.4 版本会自动使用 vue-i18n 内配置的语言。</li><li>在小程序平台仅影响用户业务层（vue-i18n）的语言配置，不能影响小程序原生组件和接口的语言。</li></ul><h3 id="语言回退规则" tabindex="-1">语言回退规则 <a class="header-anchor" href="#语言回退规则" aria-label="Permalink to &quot;语言回退规则&quot;">​</a></h3><p>需要注意的是，语言的处理逻辑是建立在应用locale目录 配置了对应资源的前提下。 <a href="https://uniapp.dcloud.net.cn/tutorial/i18n.html#vue%E7%95%8C%E9%9D%A2%E5%92%8Cjs%E5%86%85%E5%AE%B9%E7%9A%84%E5%9B%BD%E9%99%85%E5%8C%96" target="_blank" rel="noreferrer">资源配置文档</a></p><p>即</p><ul><li><p>如果应用的 locale目录下配置了对应的资源，那么语言的设置和获取是一致的</p></li><li><p>如果应用的 locale目录没有配置对应的资源，则会根据具体的平台规则进行回退。</p></li></ul><p>举个例子，应用中仅配置了英文和中文资源，没有配置日语资源，但是通过系统设置修改语言为日文，此时调用 <code>uni.getLocale()</code> 在android平台上获取到的返回值不会是jp 而是en</p>',25),r=[i];function c(d,s,h,o,g,y){return l(),e("div",null,r)}const u=t(n,[["render",c]]);export{p as __pageData,u as default};
