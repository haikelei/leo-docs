import{_ as t,c as e,o as l,N as a}from"./chunks/framework.fc67cb9d.js";const f=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/media/live-pusher-context.md","lastUpdated":1685603474000}'),d={name:"api/media/live-pusher-context.md"},i=a('<h3 id="uni-createlivepushercontext-livepusherid-this" tabindex="-1">uni.createLivePusherContext(livePusherId, this) <a class="header-anchor" href="#uni-createlivepushercontext-livepusherid-this" aria-label="Permalink to &quot;uni.createLivePusherContext(livePusherId, this)&quot;">​</a></h3><p>创建 live-pusher 上下文 livePusherContext 对象。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th></tr></thead><tbody><tr><td style="text-align:center;">见下</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td></tr></tbody></table><p><strong>参数说明</strong></p><p>设置live-pusher组件的推流地址，推流视频模式等。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">url</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">推流地址，支持RTMP协议。</td></tr><tr><td style="text-align:left;">mode</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">推流视频模式，可取值：SD（标清）, HD（高清）, FHD（超清）。</td></tr><tr><td style="text-align:left;">muted</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">否</td><td style="text-align:left;">是否静音。</td></tr><tr><td style="text-align:left;">enable-camera</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">否</td><td style="text-align:left;">开启摄像头。</td></tr><tr><td style="text-align:left;">auto-focus</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">否</td><td style="text-align:left;">自动聚集。</td></tr><tr><td style="text-align:left;">beauty</td><td style="text-align:left;">Number</td><td style="text-align:left;">0</td><td style="text-align:left;">否</td><td style="text-align:left;">美颜，取值范围 0-9（iOS取值范围为1） ，0 表示关闭。</td></tr><tr><td style="text-align:left;">whiteness</td><td style="text-align:left;">Number</td><td style="text-align:left;">0</td><td style="text-align:left;">否</td><td style="text-align:left;">美白，取值范围 0-9（iOS取值范围为1） ，0 表示关闭。</td></tr></tbody></table><p><strong>注意：</strong></p><ul><li>app-nvue 平台 2.2.5+ 支持 uni.createLivePusherContext(livePusherId, this)</li><li>app-nvue 平台 2.2.5- 需要同时设置组件属性id和ref <code>&lt;live-pusher id=&quot;livepusher1&quot; ref=&quot;livepusher1&quot;&gt;&lt;/live-pusher&gt;</code>，或者直接使用 ref，例如 <code>this.$refs.livepusher1</code></li></ul><h3 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h3><h4 id="start-callback" tabindex="-1">start(callback) <a class="header-anchor" href="#start-callback" aria-label="Permalink to &quot;start(callback)&quot;">​</a></h4><blockquote><p>开始推流</p></blockquote><h5 id="callback-返回-object-参数说明" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr></tbody></table><h4 id="pause-callback" tabindex="-1">pause(callback) <a class="header-anchor" href="#pause-callback" aria-label="Permalink to &quot;pause(callback)&quot;">​</a></h4><blockquote><p>暂停推流</p></blockquote><h5 id="callback-返回-object-参数说明-1" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-1" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr></tbody></table><h4 id="resume-callback" tabindex="-1">resume(callback) <a class="header-anchor" href="#resume-callback" aria-label="Permalink to &quot;resume(callback)&quot;">​</a></h4><blockquote><p>恢复推流</p></blockquote><h5 id="callback-返回-object-参数说明-2" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-2" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr></tbody></table><h4 id="stop-callback" tabindex="-1">stop(callback) <a class="header-anchor" href="#stop-callback" aria-label="Permalink to &quot;stop(callback)&quot;">​</a></h4><blockquote><p>停止推流</p></blockquote><h5 id="callback-返回-object-参数说明-3" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-3" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr></tbody></table><h4 id="switchcamera-callback" tabindex="-1">switchCamera(callback) <a class="header-anchor" href="#switchcamera-callback" aria-label="Permalink to &quot;switchCamera(callback)&quot;">​</a></h4><blockquote><p>切换前后摄像头</p></blockquote><h5 id="callback-返回-object-参数说明-4" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-4" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr></tbody></table><h4 id="snapshot-callback" tabindex="-1">snapshot(callback) <a class="header-anchor" href="#snapshot-callback" aria-label="Permalink to &quot;snapshot(callback)&quot;">​</a></h4><blockquote><p>快照</p></blockquote><h5 id="callback-返回-object-参数说明-5" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-5" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><h5 id="成功时的回调" tabindex="-1">成功时的回调 <a class="header-anchor" href="#成功时的回调" aria-label="Permalink to &quot;成功时的回调&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">string</td><td style="text-align:left;">&quot;success&quot; 表示成功, &quot;fail&quot; 表示失败</td></tr><tr><td style="text-align:left;">code</td><td style="text-align:left;">Number</td><td style="text-align:left;">对应code码</td></tr><tr><td style="text-align:left;">message</td><td style="text-align:left;">object</td><td style="text-align:left;">{width:&quot;快照图片宽度&quot;,height:&quot;快照图片高度&quot;,tempImagePath:&quot;快照图片路径&quot;}。</td></tr></tbody></table><h5 id="失败的回调" tabindex="-1">失败的回调 <a class="header-anchor" href="#失败的回调" aria-label="Permalink to &quot;失败的回调&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">string</td><td style="text-align:left;">&quot;fail&quot; 表示失败</td></tr><tr><td style="text-align:left;">code</td><td style="text-align:left;">Number</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">message</td><td style="text-align:left;">object</td><td style="text-align:left;"></td></tr></tbody></table><h4 id="startpreview-callback" tabindex="-1">startPreview(callback) <a class="header-anchor" href="#startpreview-callback" aria-label="Permalink to &quot;startPreview(callback)&quot;">​</a></h4><blockquote><p>开启摄像头预览</p></blockquote><h5 id="callback-返回-object-参数说明-6" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-6" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr></tbody></table><h4 id="stoppreview-callback" tabindex="-1">stopPreview(callback) <a class="header-anchor" href="#stoppreview-callback" aria-label="Permalink to &quot;stopPreview(callback)&quot;">​</a></h4><blockquote><p>关闭摄像头预览</p></blockquote><h5 id="callback-返回-object-参数说明-7" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-7" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr></tbody></table><h3 id="事件" tabindex="-1">事件 <a class="header-anchor" href="#事件" aria-label="Permalink to &quot;事件&quot;">​</a></h3><h4 id="statechange" tabindex="-1">statechange <a class="header-anchor" href="#statechange" aria-label="Permalink to &quot;statechange&quot;">​</a></h4><blockquote><p>状态变化事件</p></blockquote><h5 id="返回参数-detail-的详细说明" tabindex="-1">返回参数（detail）的详细说明 <a class="header-anchor" href="#返回参数-detail-的详细说明" aria-label="Permalink to &quot;返回参数（detail）的详细说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">code</td><td style="text-align:left;">Number</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">message</td><td style="text-align:left;">string</td><td style="text-align:left;"></td></tr></tbody></table><h4 id="netstatus" tabindex="-1">netstatus <a class="header-anchor" href="#netstatus" aria-label="Permalink to &quot;netstatus&quot;">​</a></h4><blockquote><p>网络状态通知事件</p></blockquote><h5 id="安卓-返回参数-detail-的详细说明" tabindex="-1">安卓 返回参数（detail）的详细说明 <a class="header-anchor" href="#安卓-返回参数-detail-的详细说明" aria-label="Permalink to &quot;安卓 返回参数（detail）的详细说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">键名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">videoBitrate</td><td style="text-align:left;">当前视频编/码器输出的比特率，单位 kbps</td></tr><tr><td style="text-align:left;">audioBitrate</td><td style="text-align:left;">当前音频编/码器输出的比特率，单位 kbps</td></tr><tr><td style="text-align:left;">videoFPS</td><td style="text-align:left;">当前视频帧率</td></tr><tr><td style="text-align:left;">videoGOP</td><td style="text-align:left;">当前视频 GOP,也就是每两个关键帧(I帧)间隔时长，单位 s</td></tr><tr><td style="text-align:left;">netSpeed</td><td style="text-align:left;">当前的发送/接收速度</td></tr><tr><td style="text-align:left;">netJitter</td><td style="text-align:left;">网络抖动情况，抖动越大，网络越不稳定</td></tr><tr><td style="text-align:left;">videoWidth</td><td style="text-align:left;">视频画面的宽度</td></tr><tr><td style="text-align:left;">videoHeight</td><td style="text-align:left;">视频画面的高度</td></tr></tbody></table><h5 id="ios-返回参数-detail-的详细说明" tabindex="-1">iOS 返回参数（detail）的详细说明 <a class="header-anchor" href="#ios-返回参数-detail-的详细说明" aria-label="Permalink to &quot;iOS 返回参数（detail）的详细说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">code</td><td style="text-align:left;">Number</td><td style="text-align:left;">code码</td></tr><tr><td style="text-align:left;">message</td><td style="text-align:left;">string</td><td style="text-align:left;">具体的网络状态信息</td></tr></tbody></table><h4 id="error" tabindex="-1">error <a class="header-anchor" href="#error" aria-label="Permalink to &quot;error&quot;">​</a></h4><blockquote><p>渲染错误事件</p></blockquote><h5 id="返回参数-detail-的详细说明-1" tabindex="-1">返回参数（detail）的详细说明 <a class="header-anchor" href="#返回参数-detail-的详细说明-1" aria-label="Permalink to &quot;返回参数（detail）的详细说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">errCode</td><td style="text-align:left;">Number</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">errMsg</td><td style="text-align:left;">string</td><td style="text-align:left;"></td></tr></tbody></table>',60),r=[i];function s(n,o,h,c,b,x){return l(),e("div",null,r)}const g=t(d,[["render",s]]);export{f as __pageData,g as default};
