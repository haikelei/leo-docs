import{_ as l,c as a,o as n,N as t,x as s}from"./chunks/framework.fc67cb9d.js";const A=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"component/camera.md","lastUpdated":1685603474000}'),e={name:"component/camera.md"},o=t('<h4 id="camera" tabindex="-1">camera <a class="header-anchor" href="#camera" aria-label="Permalink to &quot;camera&quot;">​</a></h4><p>页面内嵌的区域相机组件。注意这不是点击后全屏打开的相机。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快应用</th><th style="text-align:center;">360小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><ul><li>在 App 和 H5 端，可以使用API方式来调用全屏摄像头，而不是组件内嵌方式，详见：<a href="/leo-docs/api/media/image.html?id=chooseimage">uni.chooseImage</a> 和 <a href="/leo-docs/api/media/video.html?id=choosevideo">uni.chooseVideo</a> *</li><li>如开发身份证扫描、银行卡识别等ocr识别需求，在微信小程序和百度小程序中使用本camera组件，将图片发送给服务器识别，插件市场有封装好的<a href="https://ext.dcloud.net.cn/search?q=%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B8%E6%9C%BA" target="_blank" rel="noreferrer">模板</a>；在App端使用<a href="https://ext.dcloud.net.cn/search?q=ocr" target="_blank" rel="noreferrer">原生插件</a></li><li>活体检测另见文档<a href="/leo-docs/api/plugins/facialRecognitionVerify.html">实人认证</a>，人脸识别另见文档<a href="/leo-docs/api/system/authentication.html">生物认证</a></li><li>app-nvue下支持barcode组件，可实现自定义扫码。<a href="https://uniapp.dcloud.io/component/barcode" target="_blank" rel="noreferrer">参考</a></li></ul><p><strong>属性说明</strong></p>',6),p=s("table",null,[s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"left"}},"属性名"),s("th",{style:{"text-align":"left"}},"类型"),s("th",{style:{"text-align":"left"}},"默认值"),s("th",{style:{"text-align":"left"}},"说明"),s("th",{style:{"text-align":"left"}},"平台差异说明")])]),s("tbody",null,[s("tr",null,[s("td",{style:{"text-align":"left"}},"mode"),s("td",{style:{"text-align":"left"}},"String"),s("td",{style:{"text-align":"left"}},"normal"),s("td",{style:{"text-align":"left"}},"有效值为 normal, scanCode"),s("td",{style:{"text-align":"left"}},"微信小程序、QQ小程序、快应用、京东小程序")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"resolution"),s("td",{style:{"text-align":"left"}},"string"),s("td",{style:{"text-align":"left"}},"medium"),s("td",{style:{"text-align":"left"}},"分辨率，不支持动态修改"),s("td",{style:{"text-align":"left"}},"微信小程序2.10.0")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"device-position"),s("td",{style:{"text-align":"left"}},"String"),s("td",{style:{"text-align":"left"}},"back"),s("td",{style:{"text-align":"left"}},"前置或后置摄像头，值为front, back"),s("td",{style:{"text-align":"left"}})]),s("tr",null,[s("td",{style:{"text-align":"left"}},"flash"),s("td",{style:{"text-align":"left"}},"String"),s("td",{style:{"text-align":"left"}},"auto"),s("td",{style:{"text-align":"left"}},"闪光灯，值为auto, on, off"),s("td",{style:{"text-align":"left"}})]),s("tr",null,[s("td",{style:{"text-align":"left"}},"frame-size"),s("td",{style:{"text-align":"left"}},"string"),s("td",{style:{"text-align":"left"}},"medium"),s("td",{style:{"text-align":"left"}},"指定期望的相机帧数据尺寸"),s("td",{style:{"text-align":"left"}},"微信小程序2.7.0、快应用")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"@stop"),s("td",{style:{"text-align":"left"}},"EventHandle"),s("td",{style:{"text-align":"left"}}),s("td",{style:{"text-align":"left"}},"摄像头在非正常终止时触发，如退出后台等情况"),s("td",{style:{"text-align":"left"}},"快手小程序不支持")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"@error"),s("td",{style:{"text-align":"left"}},"EventHandle"),s("td",{style:{"text-align":"left"}}),s("td",{style:{"text-align":"left"}},"用户不允许使用摄像头时触发"),s("td",{style:{"text-align":"left"}},"快手小程序不支持")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"@initdone"),s("td",{style:{"text-align":"left"}},"eventhandle"),s("td",{style:{"text-align":"left"}}),s("td",{style:{"text-align":"left"},maxZoom:""},"相机初始化完成时触发，e.detail ="),s("td",{style:{"text-align":"left"}},"微信小程序2.7.0")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"@scancode"),s("td",{style:{"text-align":"left"}},"EventHandle"),s("td",{style:{"text-align":"left"}}),s("td",{style:{"text-align":"left"}},'在扫码识别成功时触发，仅在 mode="scanCode" 时生效'),s("td",{style:{"text-align":"left"}},"微信小程序")])])],-1),c=t(`<p><strong>Tips：</strong></p><ul><li>camera 组件是由客户端创建的原生组件，它的层级是最高的，不能通过 z-index 控制层级。可使用 cover-view cover-image 覆盖在上面。</li><li>请勿在 scroll-view、swiper、picker-view、movable-view 中使用 camera 组件。</li><li>同一页面只能插入一个 camera 组件。</li><li>相关API：<a href="/leo-docs/api/media/camera-context.html">createCameraContext</a></li></ul><p><strong>代码示例</strong></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">camera</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">device-position</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">back</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">flash</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@error</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">width: 100%; height: 300px;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">camera</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">primary</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">takePhoto</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">拍照</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">预览</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">image</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">mode</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">widthFix</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            src</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">methods</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#F07178;">takePhoto</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ctx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createCameraContext</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">takePhoto</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                quality</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">high</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#82AAFF;">success</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">src</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tempImagePath</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">error</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,5),r=[o,p,c];function y(F,D,i,d,g,x){return n(),a("div",null,r)}const h=l(e,[["render",y]]);export{A as __pageData,h as default};
