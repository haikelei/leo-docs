import{_ as t,c as e,o as s,N as l}from"./chunks/framework.fc67cb9d.js";const A=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/system/network.md","lastUpdated":1685603474000}'),n={name:"api/system/network.md"},a=l(`<h3 id="uni-getnetworktype-object" tabindex="-1">uni.getNetworkType(OBJECT) <a class="header-anchor" href="#uni-getnetworktype-object" aria-label="Permalink to &quot;uni.getNetworkType(OBJECT)&quot;">​</a></h3><p>获取网络类型。</p><p><strong>OBJECT 参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">是</td><td style="text-align:left;">接口调用成功，返回网络类型 networkType</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>success 返回参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">networkType</td><td style="text-align:left;">网络类型</td></tr></tbody></table><p><strong>networkType 有效值</strong></p><table><thead><tr><th style="text-align:left;">值</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">wifi</td><td style="text-align:left;">wifi 网络</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">2g</td><td style="text-align:left;">2g 网络</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">3g</td><td style="text-align:left;">3g 网络</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">4g</td><td style="text-align:left;">4g 网络</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">5g</td><td style="text-align:left;">5g 网络</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">ethernet</td><td style="text-align:left;">有线网络</td><td style="text-align:left;">App</td></tr><tr><td style="text-align:left;">unknown</td><td style="text-align:left;">Android 下不常见的网络类型</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">none</td><td style="text-align:left;">无网络</td><td style="text-align:left;"> </td></tr></tbody></table><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getNetworkType</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#82AAFF;">success</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">networkType</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="uni-onnetworkstatuschange-callback" tabindex="-1">uni.onNetworkStatusChange(CALLBACK) <a class="header-anchor" href="#uni-onnetworkstatuschange-callback" aria-label="Permalink to &quot;uni.onNetworkStatusChange(CALLBACK)&quot;">​</a></h3><p>监听网络状态变化。可使用<code>uni.offNetworkStatusChange</code>取消监听。</p><p><strong>CALLBACK 返回参数</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">isConnected</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">当前是否有网络连接</td><td style="text-align:left;">字节跳动小程序不支持</td></tr><tr><td style="text-align:left;">networkType</td><td style="text-align:left;">String</td><td style="text-align:left;">网络类型</td><td style="text-align:left;"> </td></tr></tbody></table><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onNetworkStatusChange</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isConnected</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">networkType</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="uni-offnetworkstatuschange-callback" tabindex="-1">uni.offNetworkStatusChange(CALLBACK) <a class="header-anchor" href="#uni-offnetworkstatuschange-callback" aria-label="Permalink to &quot;uni.offNetworkStatusChange(CALLBACK)&quot;">​</a></h3><p>取消监听网络状态变化。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">HBuilderX 3.0.1+</td><td style="text-align:center;">HBuilderX 3.0.1+</td><td style="text-align:center;">基础库 2.9.3+</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td></tr></tbody></table><p><strong>Tips</strong></p><ul><li><code>CALLBACK</code>必须为调用<code>uni.onNetworkStatusChange</code>时传入的<code>CALLBACK</code></li></ul><p>例如：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">var CALLBACK = function(res) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ...这里写你的业务逻辑</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">uni.offNetworkStatusChange(CALLBACK)</span></span>
<span class="line"><span style="color:#A6ACCD;">uni.onNetworkStatusChange(CALLBACK);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,24),o=[a];function p(r,c,i,d,y,g){return s(),e("div",null,o)}const h=t(n,[["render",p]]);export{A as __pageData,h as default};
