import{_ as t,c as e,o as l,N as a}from"./chunks/framework.fc67cb9d.js";const h=JSON.parse('{"title":"manifest.json 应用配置","description":"","frontmatter":{},"headers":[],"relativePath":"guide/manifest-config.md","lastUpdated":1685603474000}'),s={name:"guide/manifest-config.md"},n=a(`<h1 id="manifest-json-应用配置" tabindex="-1">manifest.json 应用配置 <a class="header-anchor" href="#manifest-json-应用配置" aria-label="Permalink to &quot;manifest.json 应用配置&quot;">​</a></h1><p><code>manifest.json</code> 文件是应用的配置文件，用于指定应用的名称、图标、权限等。HBuilderX 创建的工程此文件在根目录，CLI 创建的工程此文件在 src 目录。</p><h3 id="配置项列表" tabindex="-1">配置项列表 <a class="header-anchor" href="#配置项列表" aria-label="Permalink to &quot;配置项列表&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">描述</th><th style="text-align:left;">最低版本</th></tr></thead><tbody><tr><td style="text-align:left;">name</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">应用名称</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">appid</td><td style="text-align:left;">String</td><td style="text-align:left;">新建 uni-app 项目时，DCloud 云端分配。用途<a href="https://ask.dcloud.net.cn/article/35907" target="_blank" rel="noreferrer">详见</a></td><td style="text-align:left;">应用标识</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">description</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">应用描述</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">locale</td><td style="text-align:left;">String</td><td style="text-align:left;">auto</td><td style="text-align:left;">设置当前默认语言，具体参考 <a href="/leo-docs/api/ui/locale.html">locale</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">versionName</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">版本名称，例如：1.0.0。详见下方Tips说明</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">versionCode</td><td style="text-align:left;">Number</td><td style="text-align:left;"></td><td style="text-align:left;">版本号，例如：36</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">transformPx</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">是否转换项目的px，为true时将px转换为rpx，为false时，px为传统的实际像素。为兼容历史项目默认值为 true，但不推荐新项目启用此配置（新建项目模板一般配置为 false）</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">networkTimeout</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">网络超时时间，<a href="/leo-docs/collocation/manifest.html?id=networktimeout">详见</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">debug</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">是否开启 debug 模式，开启后调试信息以 <code>info</code> 的形式给出，其信息有页面的注册，页面路由，数据更新，事件触发等</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">是否开启 uni 统计，全局配置</a></td><td style="text-align:left;">2.2.3+</td></tr><tr><td style="text-align:left;">app-plus</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=app-plus">App 特有配置</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">h5</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=h5">H5 特有配置</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">quickapp</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">快应用特有配置，即将支持</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">mp-weixin</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=mp-weixin">微信小程序特有配置</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">mp-alipay</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=mp-alipay">支付宝小程序特有配置</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">mp-baidu</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=mp-baidu">百度小程序特有配置</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">mp-toutiao</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=mp-toutiao">字节跳动小程序特有配置</a></td><td style="text-align:left;">1.6.0</td></tr><tr><td style="text-align:left;">mp-lark</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=mp-lark">飞书小程序特有配置</a></td><td style="text-align:left;">3.2.12</td></tr><tr><td style="text-align:left;">mp-qq</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=mp-qq">qq 小程序特有配置</a></td><td style="text-align:left;">2.1.0</td></tr><tr><td style="text-align:left;">mp-kuaishou</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html#mp-kuaishou">快手小程序特有配置</a></td><td style="text-align:left;">3.2.2</td></tr></tbody></table><p><strong>Tips</strong></p><ul><li>uni-app 的 <code>appid</code> 由 DCloud 云端分配，主要用于 DCloud 相关的云服务，请勿自行修改。<a href="https://ask.dcloud.net.cn/article/35907" target="_blank" rel="noreferrer">详见</a></li><li>注意区分 uni-app 的 <code>appid</code> 与微信小程序、iOS 等其它平台分配的 <code>appid</code>，以及第三方 SDK 的 <code>appid</code>。</li><li>versionName在云打包App和生成wgt应用资源时会使用。如需升级App版本，先修改此处再云打包。导出wgt资源用于离线打包和热更新时也会以此版本为依据。</li><li>在本地打包时和热更新时，App版本和wgt应用资源版本将不再保持一致。此时通过<a href="https://www.html5plus.org/doc/zh_cn/runtime.html#plus.runtime.version" target="_blank" rel="noreferrer">plus.runtime.version</a>可获取App版本，通过<a href="https://www.html5plus.org/doc/zh_cn/runtime.html#plus.runtime.getProperty" target="_blank" rel="noreferrer">plus.runtime.getProperty</a>获取wgt资源版本。</li></ul><h4 id="networktimeout" tabindex="-1">networkTimeout <a class="header-anchor" href="#networktimeout" aria-label="Permalink to &quot;networkTimeout&quot;">​</a></h4><p>各类网络请求的超时时间，单位均为毫秒。</p><table><thead><tr><th>属性</th><th>类型</th><th>必填</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>request</td><td>Number</td><td>否</td><td>60000</td><td>uni.request 的超时时间，单位毫秒。</td></tr><tr><td>connectSocket</td><td>Number</td><td>否</td><td>60000</td><td>uni.connectSocket 的超时时间，单位毫秒。</td></tr><tr><td>uploadFile</td><td>Number</td><td>否</td><td>60000</td><td>uni.uploadFile 的超时时间，单位毫秒。</td></tr><tr><td>downloadFile</td><td>Number</td><td>否</td><td>60000</td><td>uni.downloadFile 的超时时间，单位毫秒。</td></tr></tbody></table><p>自<code>HBuilderX 2.5.10</code>起，上述默认超时时间由6秒改为60秒，对齐微信小程序平台。</p><h4 id="unistatistics" tabindex="-1">uniStatistics <a class="header-anchor" href="#unistatistics" aria-label="Permalink to &quot;uniStatistics&quot;">​</a></h4><p>uni 统计配置项</p><table><thead><tr><th>属性</th><th>类型</th><th>必填</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>enable</td><td>Boolean</td><td>是</td><td>true</td><td>是否开启uni统计</td></tr></tbody></table><h3 id="app-plus" tabindex="-1">app-plus <a class="header-anchor" href="#app-plus" aria-label="Permalink to &quot;app-plus&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th><th style="text-align:left;">最低版本</th></tr></thead><tbody><tr><td style="text-align:left;">splashscreen</td><td style="text-align:left;">Object</td><td style="text-align:left;">App 启动界面信息，<a href="/leo-docs/collocation/manifest.html?id=splashscreen">详见</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">screenOrientation</td><td style="text-align:left;">Array</td><td style="text-align:left;">重力感应、横竖屏配置，可取值：&quot;portrait-primary&quot;：竖屏正方向；&quot;portrait-secondary&quot;：竖屏反方向；&quot;landscape-primary&quot;：横屏正方向；&quot;landscape-secondary&quot;：横屏反方向。</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">modules</td><td style="text-align:left;">Object</td><td style="text-align:left;">权限模块，<a href="/leo-docs/collocation/manifest.html?id=modules">详见</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">distribute</td><td style="text-align:left;">Object</td><td style="text-align:left;">App 发布信息，<a href="/leo-docs/collocation/manifest.html?id=distribute">详见</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">nvueCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">切换 nvue 编译模式，可选值，<code>weex</code> ：老编译模式，<code>uni-app</code>： 新编译模式，默认为 <code>weex</code> 。<a href="http://ask.dcloud.net.cn/article/36074" target="_blank" rel="noreferrer">编译模式区别详情</a></td><td style="text-align:left;">2.0.3+</td></tr><tr><td style="text-align:left;">nvueStyleCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">切换 nvue 样式编译模式，可选值，<code>weex</code> ：老编译模式，<code>uni-app</code>： 新编译模式，默认为 <code>weex</code> 。<a href="https://ask.dcloud.net.cn/article/38751" target="_blank" rel="noreferrer">编译模式区别详情</a></td><td style="text-align:left;">3.1.1+</td></tr><tr><td style="text-align:left;">renderer</td><td style="text-align:left;">String</td><td style="text-align:left;">可不加载基于 webview 的运行框架，减少包体积、提升启动速度。可选值 <code>native</code></td><td style="text-align:left;">App-nvue 2.2.0+</td></tr><tr><td style="text-align:left;">nvueLaunchMode</td><td style="text-align:left;">String</td><td style="text-align:left;">Nvue 首页启动模式，可选值：normal、fast 默认 normal（HBuilderX 2.4.4-2.4.9 固定为 fast） <a href="https://ask.dcloud.net.cn/article/36749" target="_blank" rel="noreferrer">详见</a></td><td style="text-align:left;">2.5.0+</td></tr><tr><td style="text-align:left;">nvue</td><td style="text-align:left;">Object</td><td style="text-align:left;">nvue 页面布局初始配置，<a href="/leo-docs/collocation/manifest.html?id=nvue">详见</a></td><td style="text-align:left;">2.0.3+</td></tr><tr><td style="text-align:left;">optimization</td><td style="text-align:left;">Object</td><td style="text-align:left;">分包配置，可以减轻启动时加载的js数量，提升启动速度</td><td style="text-align:left;">2.7.12+</td></tr><tr><td style="text-align:left;">runmode</td><td style="text-align:left;">String</td><td style="text-align:left;">normal：默认模式，liberate：资源释放模式</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">App 是否开启 uni 统计，配置方法同全局配置</a></td><td style="text-align:left;">2.2.3+</td></tr><tr><td style="text-align:left;">webView</td><td style="text-align:left;">Object</td><td style="text-align:left;">当系统webview低于指定版本时，会弹出提示。或者下载x5内核后继续启动，仅Android支持，<a href="/leo-docs/collocation/manifest.html?id=appwebview">详情</a></td><td style="text-align:left;">3.5.0+</td></tr></tbody></table><p>PS：上表只列出了核心部分，App平台的配置其实非常多，完整内容请参考 <a href="/leo-docs/collocation/manifest-app.html?id=full-manifest">完整的 manifest.json</a>。</p><p><strong>Tips</strong></p><ul><li>manifest.json 文件的配置，推荐在 HBuilderX 提供的可视化操作界面完成。</li><li>部分配置在打包时的操作界面补全，例如：证书等信息。</li><li>Native.js 权限部分会根据配置的模块权限，在打包后自动填充。</li><li>部分 modules 是默认的，不需要进行配置。</li><li>微信小程序的 <code>appid</code> 等信息，需要配置在 <code>mp-weixin</code> 节点下。不要配置在 <code>app-plus</code>下。<code>sdkConfigs</code> 下出现的 <code>weixin</code> 节点，配置的是 App 的第三方 SDK 信息。</li></ul><h4 id="app-splashscreen-splashscreen" tabindex="-1">App Splashscreen@splashscreen <a class="header-anchor" href="#app-splashscreen-splashscreen" aria-label="Permalink to &quot;App Splashscreen@splashscreen&quot;">​</a></h4><p>splash（启动封面）是App必然存在的、不可取消的。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">描述</th><th style="text-align:left;">最低版本</th></tr></thead><tbody><tr><td style="text-align:left;">alwaysShowBeforeRender</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">是否等待首页渲染完毕后再关闭启动界面</td><td style="text-align:left;">1.6.0</td></tr><tr><td style="text-align:left;">autoclose</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">是否自动关闭启动界面，仅当alwaysShowBeforeRender设置为false时生效，如果需要<a href="https://www.html5plus.org/doc/zh_cn/navigator.html#plus.navigator.closeSplashscreen" target="_blank" rel="noreferrer">手动关闭</a>启动界面，需将 alwaysShowBeforeRender 及 autoclose 均设置为 false。</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">waiting</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">是否在程序启动界面显示等待圈或雪花</td><td style="text-align:left;"></td></tr></tbody></table><p>alwaysShowBeforeRender和autoclose属性组合设置，可配置以下三种关闭启动界面（splash）策略，<a href="./tutorial/app-splashscreen.html">详见</a></p><p><strong>注意</strong></p><ul><li>如果不配置自己的splash图，App端会默认把App的icon放到splash中</li><li>splash只能是标准png，不要用jpg改名为png。也不支持gif等动画</li><li>相关改动，云打包生效，真机运行不生效。本地打包需自行在原生工程中配置</li><li>App启动图中iOS的MAX等大屏设备的splash图若不配，会导致iOS认为此App没有为MAX优化，App将无法全屏，四周会有黑边</li><li>Android的splash支持.9.png，<a href="./tutorial/app-splashscreen.html?id=9png">详见</a></li></ul><h4 id="app-modules-modules" tabindex="-1">App Modules@modules <a class="header-anchor" href="#app-modules-modules" aria-label="Permalink to &quot;App Modules@modules&quot;">​</a></h4><p>模块选择是为了控制App的包体积，不需要的模块可以在打包时剔除。</p><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">Bluetooth</td><td style="text-align:left;">BLE蓝牙</td></tr><tr><td style="text-align:left;">Contacts</td><td style="text-align:left;">系统通讯录</td></tr><tr><td style="text-align:left;">Fingerprint</td><td style="text-align:left;">指纹识别</td></tr><tr><td style="text-align:left;">iBeacon</td><td style="text-align:left;">iBeacon</td></tr><tr><td style="text-align:left;">LivePusher</td><td style="text-align:left;">直播推流</td></tr><tr><td style="text-align:left;">Maps</td><td style="text-align:left;">地图</td></tr><tr><td style="text-align:left;">Messaging</td><td style="text-align:left;">短彩邮件消息</td></tr><tr><td style="text-align:left;">OAuth</td><td style="text-align:left;">登录授权</td></tr><tr><td style="text-align:left;">Payment</td><td style="text-align:left;">支付</td></tr><tr><td style="text-align:left;">Push</td><td style="text-align:left;">消息推送</td></tr><tr><td style="text-align:left;">Share</td><td style="text-align:left;">社交分享</td></tr><tr><td style="text-align:left;">Speech</td><td style="text-align:left;">语音识别</td></tr><tr><td style="text-align:left;">SQLite</td><td style="text-align:left;">SQLite数据库</td></tr><tr><td style="text-align:left;">Statistic</td><td style="text-align:left;">统计</td></tr><tr><td style="text-align:left;">VideoPlayer</td><td style="text-align:left;">视频播放</td></tr></tbody></table><p><strong>注意</strong></p><ul><li>仅App云打包生效。本地打包需自行在原生工程中配置。</li></ul><h4 id="app-distribute-distribute" tabindex="-1">App Distribute@distribute <a class="header-anchor" href="#app-distribute-distribute" aria-label="Permalink to &quot;App Distribute@distribute&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">android</td><td style="text-align:left;">Object</td><td style="text-align:left;">Android 应用配置，详见: <a href="/leo-docs/collocation/manifest-app.html?id=android">Android配置明细</a></td></tr><tr><td style="text-align:left;">ios</td><td style="text-align:left;">Object</td><td style="text-align:left;">iOS 应用配置，详见: <a href="/leo-docs/collocation/manifest-app.html?id=ios">iOS配置明细</a></td></tr><tr><td style="text-align:left;">sdkConfigs</td><td style="text-align:left;">Object</td><td style="text-align:left;">SDK配置，仅打包生效 <a href="/leo-docs/collocation/manifest.html?id=sdkConfigs">详见</a></td></tr><tr><td style="text-align:left;">orientation</td><td style="text-align:left;">Array</td><td style="text-align:left;">同 screenOrientation 配置，仅打包生效，已废弃，推荐使用 screenOrientation</td></tr></tbody></table><h4 id="app-sdkconfigs-sdkconfigs" tabindex="-1">App SdkConfigs@sdkConfigs <a class="header-anchor" href="#app-sdkconfigs-sdkconfigs" aria-label="Permalink to &quot;App SdkConfigs@sdkConfigs&quot;">​</a></h4><p>三方原生SDK配置。三方SDK的使用需要向这些SDK提供商申请，并配置参数到此处。可在HBuilderX可视化界面（App SDK配置）输入配置，此配置仅<strong>云打包后生效</strong>，本地打包需自行在原生工程中配置。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">oauth</td><td style="text-align:left;">Object</td><td style="text-align:left;">授权登录，配置后可调用 <a href="/leo-docs/api/plugins/login.html?id=login">uni.login</a> 进行登录操作，目前支持的授权登录平台有：<a href="http://open.qq.com/" target="_blank" rel="noreferrer">QQ</a>、<a href="https://open.weixin.qq.com/" target="_blank" rel="noreferrer">微信</a>、<a href="http://open.weibo.com/" target="_blank" rel="noreferrer">新浪微博</a>。</td></tr><tr><td style="text-align:left;">share</td><td style="text-align:left;">Object</td><td style="text-align:left;">分享，配置后可调用 <a href="/leo-docs/api/plugins/share.html?id=share">uni.share</a> 进行分享，目前支持QQ、微信、新浪微博等分享， 具体配置 <a href="/leo-docs/api/plugins/share.html?id=app-端各平台分享配置说明">详见</a>。</td></tr><tr><td style="text-align:left;">push</td><td style="text-align:left;">Object</td><td style="text-align:left;">push配置，使用方式 <a href="/leo-docs/unipush.html">详见</a>，目前支持：<a href="http://ask.dcloud.net.cn/article/35716" target="_blank" rel="noreferrer">uniPush</a>、<a href="http://www.igetui.com/" target="_blank" rel="noreferrer">个推</a>，注意App仅支持一种 push 方式，配置多个 push 无效，建议使用 uniPush，支持多厂商推送。</td></tr><tr><td style="text-align:left;">payment</td><td style="text-align:left;">Object</td><td style="text-align:left;">三方支付配置，配置后可调用 <a href="/leo-docs/api/plugins/payment.html?id=payment">uni.payment</a> 进行支付，目前支持微信支付、支付宝支付、苹果内购， 具体配置 <a href="/leo-docs/api/plugins/payment.html?id=uni-app-app-平台支付流程">详见</a>。</td></tr><tr><td style="text-align:left;">statics</td><td style="text-align:left;">Object</td><td style="text-align:left;">统计配置，目前仅支付友盟统计，<a href="/leo-docs/tutorial/app-statistic.html">详见</a>，在uni-app中只用 <a href="http://www.html5plus.org/doc/zh_cn/statistic.html" target="_blank" rel="noreferrer">plus.statistic</a> 进行调用。</td></tr><tr><td style="text-align:left;">speech</td><td style="text-align:left;">Object</td><td style="text-align:left;">语音识别配置，支持讯飞语音、百度语音，<a href="/leo-docs/tutorial/app-speech.html">详见</a>，在uni-app中只用 <a href="http://www.html5plus.org/doc/zh_cn/speech.html" target="_blank" rel="noreferrer">plus.speech</a> 进行调用。</td></tr><tr><td style="text-align:left;">maps</td><td style="text-align:left;">Object</td><td style="text-align:left;">原生地图配置，目前仅支持 <a href="http://lbs.amap.com/" target="_blank" rel="noreferrer">高德地图</a>，申请方式可参考：<a href="/leo-docs/tutorial/app-maps.html">地图插件配置</a>。</td></tr></tbody></table><h4 id="optimization-app-vue-optimization" tabindex="-1">optimization@app-vue-optimization <a class="header-anchor" href="#optimization-app-vue-optimization" aria-label="Permalink to &quot;optimization@app-vue-optimization&quot;">​</a></h4><p>可以减轻启动时加载的js数量，提升启动速度。</p><p>从uni-app 2.7.12+ 开始，App-vue平台也兼容了小程序的分包配置，但默认并不开启。</p><p>在manifest配置以下节点，可以在App端启动分包。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">subPackages</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否开启分包优化</td></tr></tbody></table><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&quot;app-plus&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;optimization&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;subPackages&quot;: true</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;runmode&quot; : &quot;liberate&quot; // 开启分包优化后，必须配置资源释放模式</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>在manifest中启动分包后，需要在pages.json中配置具体的分包规则，与小程序的配置相同，详见：<a href="https://uniapp.dcloud.io/collocation/pages?id=subpackages" target="_blank" rel="noreferrer">https://uniapp.dcloud.io/collocation/pages?id=subpackages</a></p><p>也就是一旦在pages.json里配置分包，小程序一定生效，而app是否生效，取决于manifest里是否开启。</p><p>注意:</p><ul><li>App开启分包后，每个分包单独编译成一个js文件(都包含在app内，不会联网下载)，当App首页是vue时，可减小启动加载文件大小，提升启动速度。</li><li>首页是nvue时，分包不会提升启动速度，nvue本身启动速度就快于vue，也快于开启分包后的首页为vue的应用。如果追求极致启动速度，还是应该使用nvue做首页并在manifest开启fast模式。</li><li>App页面较少时，分包对启动速度的优化不明显。</li></ul><h4 id="nvue-nvue" tabindex="-1">nvue@nvue <a class="header-anchor" href="#nvue-nvue" aria-label="Permalink to &quot;nvue@nvue&quot;">​</a></h4><p><code>nvue</code> 页面布局初始设置</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">flex-direction</td><td style="text-align:left;">String</td><td style="text-align:left;">flex 成员项的排列方向，支持项，row：从左到右； row-reverse：从右到左；column：从上到下；column-reverse：与 column 相反，默认值 column。</td></tr></tbody></table><h4 id="webview-appwebview" tabindex="-1">webview@appwebview <a class="header-anchor" href="#webview-appwebview" aria-label="Permalink to &quot;webview@appwebview&quot;">​</a></h4><blockquote><p>uni-app 3.5.0+</p></blockquote><p>当App代码使用了低版本webview不支持的语法时（比如使用了vue3），可以在manifest配置本属性，来指定最低运行的webview版本。</p><p>当系统webview版本不符合需求时，uni-app引擎会自动弹框。同时开发者可以指定使用 x5引擎webview 来替代系统webview，以保障浏览器兼容性。详见<a href="/leo-docs/tutorial/app-android-x5.html">x5文档</a></p><p>当你的应用强依赖x5时，比如需要vue页面的字体和tabbar等原生界面保持一致时，也可以在manifest配置本属性。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">minUserAgentVersion</td><td style="text-align:left;">String</td><td style="text-align:left;">最小webview版本，例如：64.0.3282.116。（当低于最小版本要求时，显示 <code>WebView版本过低</code> 弹框，点击确定退出应用。）</td></tr><tr><td style="text-align:left;">x5</td><td style="text-align:left;">Object</td><td style="text-align:left;">此属性需要在manifest模块配置中勾选 Android X5 Webview 模块，详细参见下面的说明</td></tr></tbody></table><p>x5 属性说明</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">timeOut</td><td style="text-align:left;">Number</td><td style="text-align:left;">3000</td><td style="text-align:left;">超时时间</td></tr><tr><td style="text-align:left;">showTipsWithoutWifi</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">是否在非WiFi网络环境时，显示用户确认下载x5内核的弹窗。（如果为true时，在非WiFi网络下载x5模块，会显示用户确认弹框，内容为 <code>当前处于非WiFi网络，是否允许下载x5模块？</code> ，false时不显示弹框 。）</td></tr><tr><td style="text-align:left;">allowDownloadWithoutWiFi</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">是否允许用户在非WiFi网络时进行x5内核的下载。（如果为true，就不会显示用户确认的弹窗。false时，如果showTipsWithoutWifi为true，就会显示用户确认弹框；showTipsWithoutWifi为false时，不下载x5模块。）</td></tr></tbody></table><p>webview示例</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">app-plus</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">webView</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">minUserAgentVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">64.0.3282.116</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">x5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">timeOut</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">showTipsWithoutWifi</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">allowDownloadWithoutWiFi</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>提示：vue3 vue页面 要求 Android 系统 webview 最低版本为 <code>64.0.3282.116</code></p><h3 id="h5" tabindex="-1">h5 <a class="header-anchor" href="#h5" aria-label="Permalink to &quot;h5&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">title</td><td style="text-align:left;">String</td><td style="text-align:left;">页面标题，默认使用 manifest.json 的 name</td></tr><tr><td style="text-align:left;">template</td><td style="text-align:left;">String</td><td style="text-align:left;">index.html模板路径，相对于应用根目录，可定制生成的 html 代码。参考：<a href="/leo-docs/collocation/manifest.html?id=h5-template">自定义模板</a></td></tr><tr><td style="text-align:left;">router</td><td style="text-align:left;">Object</td><td style="text-align:left;">参考：<a href="/leo-docs/collocation/manifest.html?id=h5-router">router</a></td></tr><tr><td style="text-align:left;">async</td><td style="text-align:left;">Object</td><td style="text-align:left;">参考：<a href="/leo-docs/collocation/manifest.html?id=h5-async">async</a></td></tr><tr><td style="text-align:left;">devServer</td><td style="text-align:left;">Object</td><td style="text-align:left;">开发环境 server 配置，参考：<a href="/leo-docs/collocation/manifest.html?id=devserver">devServer</a></td></tr><tr><td style="text-align:left;">publicPath</td><td style="text-align:left;">String</td><td style="text-align:left;">引用资源的地址前缀，仅 Vue2 发布时生效。参考：<a href="/leo-docs/collocation/manifest.html?id=publicPath">publicPath</a></td></tr><tr><td style="text-align:left;">sdkConfigs</td><td style="text-align:left;">String</td><td style="text-align:left;">SDK配置，例如地图... 参考：<a href="/leo-docs/collocation/manifest.html?id=h5sdkconfig">sdkConfigs</a></td></tr><tr><td style="text-align:left;">optimization</td><td style="text-align:left;">Object</td><td style="text-align:left;">打包优化配置（HBuilderX 2.1.5 以上支持），参考<a href="/leo-docs/collocation/manifest.html?id=optimization">optimization</a></td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">H5 是否开启 uni 统计，配置方法同全局配置</a></td></tr></tbody></table><h4 id="自定义模板-h5-template" tabindex="-1">自定义模板@h5-template <a class="header-anchor" href="#自定义模板-h5-template" aria-label="Permalink to &quot;自定义模板@h5-template&quot;">​</a></h4><p>需要使用自定义模板的场景，通常有以下几种情况：</p><ul><li>调整页面 head 中的 meta 配置</li><li>补充 SEO 相关的一些配置（仅首页）</li><li>加入百度统计等三方js</li></ul><p>使用自定义模板时，1. 工程根目录下新建一个html文件；2. 复制下面的基本模板内容，到这个html文件，在此基础上修改meta和引入js；3. 在 <code>manifest.json-&gt;h5-&gt;template</code> 节点中关联这个html文件的路径。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;!</span><span style="color:#F07178;">DOCTYPE</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zh-CN</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">charset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">http-equiv</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">X-UA-Compatible</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">IE=edge</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			&lt;%= htmlWebpackPlugin.options.title %&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">&lt;!-- Open Graph data --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">&lt;!-- &lt;meta property=&quot;og:title&quot; content=&quot;Title Here&quot; /&gt; --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">&lt;!-- &lt;meta property=&quot;og:url&quot; content=&quot;http://www.example.com/&quot; /&gt; --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">&lt;!-- &lt;meta property=&quot;og:image&quot; content=&quot;http://example.com/image.jpg&quot; /&gt; --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">&lt;!-- &lt;meta property=&quot;og:description&quot; content=&quot;Description Here&quot; /&gt; --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">		&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> coverSupport </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">CSS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> window </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> CSS</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">supports </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> (CSS</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">supports</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">top: env(a)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> CSS</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">supports</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">top: constant(a)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">			document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> (coverSupport </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">, viewport-fit=cover</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&quot; /&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;%= BASE_URL %&gt;static/index.&lt;%= VUE_APP_INDEX_CSS_HASH %&gt;.css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">noscript</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">strong</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Please enable JavaScript to continue.</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">strong</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">noscript</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">&lt;!-- built files will be auto injected --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>在hello uni-app示例中有一个<code>template.h5.html</code>文件，即是此用途。</p><p><strong>关于SEO的补充说明</strong></p><p>H5平台是SPA单页应用，普通的SEO信息即加meta字段只能在，自定义的模板html里配置首页。</p><p>但SEO的时代在变，现在更有效的方式，使用uni-app同时发布一版百度小程序，这个搜索权重更高。DCloud的ask社区的H5版也是uni-app做的，同时发布了百度小程序，权重更高，每天来自百度的搜索量非常多。是一个可现身说法的好案例。</p><h4 id="router-h5-router" tabindex="-1">router@h5-router <a class="header-anchor" href="#router-h5-router" aria-label="Permalink to &quot;router@h5-router&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">mode</td><td style="text-align:left;">String</td><td style="text-align:left;">hash</td><td style="text-align:left;">路由跳转模式，支持 hash、history</td></tr><tr><td style="text-align:left;">base</td><td style="text-align:left;">String</td><td style="text-align:left;">/</td><td style="text-align:left;">应用基础路径，例如，如果整个单页应用服务在 /app/ 下，然后 base 就应该设为 &quot;/app/&quot;，支持设置为相对路径 &quot;./&quot;</td></tr></tbody></table><p><strong>注意：</strong></p><ul><li><code>history</code> 模式部分浏览器器不支持，iOS微信内置浏览器无法观测到URL变动，默认分享（不使用微信<a href="https://ask.dcloud.net.cn/article/35380" target="_blank" rel="noreferrer">JSSDK</a>的情况下）的链接为入口页链接。</li><li><code>history</code> 模式发行需要后台配置支持，详见：<a href="https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90" target="_blank" rel="noreferrer">history 模式的后端配置</a></li></ul><h4 id="async-h5-async" tabindex="-1">async@h5-async <a class="header-anchor" href="#async-h5-async" aria-label="Permalink to &quot;async@h5-async&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">loading</td><td style="text-align:left;">String</td><td style="text-align:left;">AsyncLoading</td><td style="text-align:left;">页面 js 加载时使用的组件（需注册为全局组件）</td></tr><tr><td style="text-align:left;">error</td><td style="text-align:left;">String</td><td style="text-align:left;">AsyncError</td><td style="text-align:left;">页面 js 加载失败时使用的组件（需注册为全局组件）</td></tr><tr><td style="text-align:left;">delay</td><td style="text-align:left;">Number</td><td style="text-align:left;">200</td><td style="text-align:left;">展示 loading 加载组件的延时时间（页面 js 若在 delay 时间内加载完成，则不会显示 loading 组件）</td></tr><tr><td style="text-align:left;">timeout</td><td style="text-align:left;">Number</td><td style="text-align:left;">60000</td><td style="text-align:left;">页面 js 加载超时时间（超时后展示 error 对应的组件）</td></tr></tbody></table><h4 id="devserver" tabindex="-1">devServer <a class="header-anchor" href="#devserver" aria-label="Permalink to &quot;devServer&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">https</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">启用 https 协议</td></tr><tr><td style="text-align:left;">port</td><td style="text-align:left;">Number</td><td style="text-align:left;">Vue2 8080；Vue3 3000</td><td style="text-align:left;">前端开发服务端口</td></tr><tr><td style="text-align:left;">disableHostCheck</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">禁用 Host 检查</td></tr></tbody></table><p>Tips：<code>uni-app</code> 中 <code>manifest.json-&gt;h5-&gt;devServer</code>，<code>vue2</code> 实际上对应 <code>webpack</code> 的 <a href="https://webpack.js.org/configuration/dev-server/" target="_blank" rel="noreferrer">devServer</a>，<code>vue3</code> 实际上对应 <code>vite</code> 的 <a href="https://cn.vitejs.dev/config/server-options.html#server-options" target="_blank" rel="noreferrer">server</a>，鉴于 manifest 为 json 文件，故 <code>webpack.config.js-&gt;devServer</code> 及 <code>vite.config.js-&gt;server</code> 配置项下的简单类型属性均可在<code>manifest.json-&gt;h5-&gt;devServer</code>节点下配置，funciton 等复杂类型暂不支持。</p><h4 id="publicpath" tabindex="-1">publicPath <a class="header-anchor" href="#publicpath" aria-label="Permalink to &quot;publicPath&quot;">​</a></h4><p>配置 publicPath 为 cdn 资源地址前缀，这样编译出来的 html 文件，引用的 js，css 路径会自动变成 cdn 上的地址。</p><p>注意：如果想对图片生效，image组件的图片地址需要使用相对路径</p><p><strong>示例</strong></p><p>以 hello-uniapp 发布 H5 时为例</p><p>未配置 publicPath 时，发布时 index.html 中的结果：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/h5/static/js/chunk-vendors.803ce52d.js</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/h5/static/js/index.34e8497d.js</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>配置 publicPath 为 <code>https://www.cdn.com/h5/</code>（无效地址仅用作示例） 后，发布时 index.html 中的结果：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://www.cdn.com/h5/static/js/chunk-vendors.803ce52d.js</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://www.cdn.com/h5/static/js/index.34e8497d.js</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><strong>注意</strong></p><ul><li>打包部署后，在服务器上开启 gzip 可以进一步压缩文件。具体的配置，可以参考网上的分享：<a href="https://juejin.im/post/5af003286fb9a07aac24611b" target="_blank" rel="noreferrer">https://juejin.im/post/5af003286fb9a07aac24611b</a></li></ul><h4 id="sdkconfig-h5sdkconfig" tabindex="-1">sdkconfig@h5sdkconfig <a class="header-anchor" href="#sdkconfig-h5sdkconfig" aria-label="Permalink to &quot;sdkconfig@h5sdkconfig&quot;">​</a></h4><p>三方SDK配置。三方SDK的使用需要向这些SDK提供商申请，并配置参数到此处。可在HBuilderX可视化界面（H5 配置）输入配置。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">maps</td><td style="text-align:left;">Object</td><td style="text-align:left;">地图或位置相关SDK</td></tr></tbody></table><h4 id="maps-h5sdkconfigmaps" tabindex="-1">maps@h5sdkconfigmaps <a class="header-anchor" href="#maps-h5sdkconfigmaps" aria-label="Permalink to &quot;maps@h5sdkconfigmaps&quot;">​</a></h4><p>地图服务商 SDK 配置，使用地图以及位置（IP 定位及坐标转换）需要配置此项。</p><p><strong>示例</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">sdkConfigs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">// 使用地图或位置相关功能必须填写其一</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">maps</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">qqmap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;">// 腾讯地图秘钥 https://lbs.qq.com/dev/console/key/manage</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">key</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">google</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;">// 谷歌地图秘钥（HBuilderX 3.2.10+）https://developers.google.com/maps/documentation/javascript/get-api-key</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">key</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">amap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;">// 高德地图秘钥（HBuilderX 3.6.0+）https://console.amap.com/dev/key/app</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">key</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;">// 高德地图安全密钥（HBuilderX 3.6.0+）https://console.amap.com/dev/key/app</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">securityJsCode</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;">// 高德地图安全密钥代理服务器地址（HBuilderX 3.6.0+）https://lbs.amap.com/api/jsapi-v2/guide/abc/prepare</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">serviceHost</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="optimization" tabindex="-1">optimization <a class="header-anchor" href="#optimization" aria-label="Permalink to &quot;optimization&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">prefetch</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">资源预取</td></tr><tr><td style="text-align:left;">preload</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">资源预加载</td></tr><tr><td style="text-align:left;">treeShaking</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">摇树优化，根据项目需求，动态打包框架所需的组件及API，保持框架代码最精简化，参考<a href="/leo-docs/collocation/manifest.html?id=treeshaking">treeShaking</a></td></tr></tbody></table><h5 id="treeshaking" tabindex="-1">treeShaking <a class="header-anchor" href="#treeshaking" aria-label="Permalink to &quot;treeShaking&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">enable</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">是否启用摇树优化</td></tr></tbody></table><p><strong>示例：</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">optimization</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">treeShaking</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">enable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>Tips：关于摇树优化（treeShaking）原理及优化结果，参考：<a href="https://ask.dcloud.net.cn/article/36279" target="_blank" rel="noreferrer">https://ask.dcloud.net.cn/article/36279</a></p><h3 id="mp-weixin" tabindex="-1">mp-weixin <a class="header-anchor" href="#mp-weixin" aria-label="Permalink to &quot;mp-weixin&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">appid</td><td style="text-align:left;">String</td><td style="text-align:left;">微信小程序的AppID，登录 <a href="https://mp.weixin.qq.com" target="_blank" rel="noreferrer">https://mp.weixin.qq.com</a> 申请</td></tr><tr><td style="text-align:left;">setting</td><td style="text-align:left;">Object</td><td style="text-align:left;">微信小程序项目设置，参考<a href="/leo-docs/collocation/manifest.html?id=setting">setting</a></td></tr><tr><td style="text-align:left;">functionalPages</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">微信小程序是否启用插件功能页，默认关闭</td></tr><tr><td style="text-align:left;">requiredBackgroundModes</td><td style="text-align:left;">Array</td><td style="text-align:left;">微信小程序需要在后台使用的能力,<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#requiredbackgroundmodes" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">plugins</td><td style="text-align:left;">Object</td><td style="text-align:left;">使用到的插件，<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/using.html" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">resizable</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">在iPad上小程序是否支持屏幕旋转，默认关闭</td></tr><tr><td style="text-align:left;">navigateToMiniProgramAppIdList</td><td style="text-align:left;">Array</td><td style="text-align:left;">需要跳转的小程序列表，<a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/miniprogram-navigate/wx.navigateToMiniProgram.html" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">permission</td><td style="text-align:left;">Object</td><td style="text-align:left;">微信小程序接口权限相关设置，比如申请位置权限必须填此处<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">workers</td><td style="text-align:left;">String</td><td style="text-align:left;">Worker 代码放置的目录。 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/workers.html" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">optimization</td><td style="text-align:left;">Object</td><td style="text-align:left;">对微信小程序的优化配置</td></tr><tr><td style="text-align:left;">cloudfunctionRoot</td><td style="text-align:left;">String</td><td style="text-align:left;">配置云开发目录，参考<a href="/leo-docs/collocation/manifest.html?id=cloudfunctionRoot">setting</a></td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">微信小程序是否开启 uni 统计，配置方法同全局配置</a></td></tr><tr><td style="text-align:left;">scopedSlotsCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">Vue2 作用域插槽编译模式，uni-app 3.1.19+ 开始支持，可选：legacy、auto、augmented，默认：auto</td></tr><tr><td style="text-align:left;">mergeVirtualHostAttributes</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">合并组件<a href="/leo-docs/tutorial/vue-api.html#其他配置">虚拟节点</a>外层属性（目前仅支持 style、class 属性），uni-app 3.5.1+ 开始支持</td></tr><tr><td style="text-align:left;">slotMultipleInstance</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">模拟单个作用域插槽渲染为多个实例，此配置仅限 Vue2 环境 3.7.12+，Vue3 环境已默认支持</td></tr><tr><td style="text-align:left;">embeddedAppIdList</td><td style="text-align:left;">Array</td><td style="text-align:left;">要半屏跳转的小程序appid。<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/openEmbeddedMiniProgram.html" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">requiredPrivateInfos</td><td style="text-align:left;">Array</td><td style="text-align:left;">地理位置相关接口。<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#requiredPrivateInfos" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">lazyCodeLoading</td><td style="text-align:left;">String</td><td style="text-align:left;">目前仅支持值 requiredComponents，代表开启小程序<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/ability/lazyload.html#%E6%8C%89%E9%9C%80%E6%B3%A8%E5%85%A5" target="_blank" rel="noreferrer">按需注入</a>特性，<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#lazyCodeLoading" target="_blank" rel="noreferrer">详见</a></td></tr></tbody></table><h4 id="setting" tabindex="-1">setting <a class="header-anchor" href="#setting" aria-label="Permalink to &quot;setting&quot;">​</a></h4><p>编译到微信小程序平台下的项目设置。</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">urlCheck</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否检查安全域名和 TLS 版本</td></tr><tr><td style="text-align:left;">es6</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">ES6 转 ES5</td></tr><tr><td style="text-align:left;">postcss</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">上传代码时样式是否自动补全</td></tr><tr><td style="text-align:left;">minified</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">上传代码时是否自动压缩</td></tr><tr><td style="text-align:left;">bigPackageSizeSupport</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">预览及真机调试时包体积上限是否调整为4M，默认为true（HBuilderX 3.5.5+）。</td></tr></tbody></table><p>注意: 使用微信小程序手势组件会强制开启 ES6 转 ES5</p><h4 id="optimization-1" tabindex="-1">optimization <a class="header-anchor" href="#optimization-1" aria-label="Permalink to &quot;optimization&quot;">​</a></h4><p>对微信小程序的优化配置</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">subPackages</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否开启分包优化</td></tr></tbody></table><h4 id="cloudfunctionroot" tabindex="-1">cloudfunctionRoot <a class="header-anchor" href="#cloudfunctionroot" aria-label="Permalink to &quot;cloudfunctionRoot&quot;">​</a></h4><p>如果需要使用微信小程序的云开发，需要在 mp-weixin 配置云开发目录</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mp-weixin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">cloudfunctionRoot</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cloudfunctions/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 配置云开发目录</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>配置目录之后，需要在项目根目录新建 <code>vue.config.js</code> 配置对应的文件编译规则</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">     </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">CopyWebpackPlugin</span><span style="color:#F07178;">([</span></span>
<span class="line"><span style="color:#F07178;">       </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">         from</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../cloudfunctions</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">         to</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">unpackage</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">NODE_ENV</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">build</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dev</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">UNI_PLATFORM</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cloudfunctions</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">       </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">     ])</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">   ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="mp-alipay" tabindex="-1">mp-alipay <a class="header-anchor" href="#mp-alipay" aria-label="Permalink to &quot;mp-alipay&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">plugins</td><td style="text-align:left;">Object</td><td style="text-align:left;">使用到的插件，<a href="https://opendocs.alipay.com/mini/plugin/plugin-usage" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">component2</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否启用 <code>component2</code> 编译，默认为true，<a href="https://docs.alipay.com/mini/framework/custom-component-overview" target="_blank" rel="noreferrer">查看详情</a></td></tr><tr><td style="text-align:left;">enableAppxNg</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否启用 <code>enableAppxNg</code> 小程序基础库 2.x 构建，默认为true，<a href="https://opendocs.alipay.com/mini/framework/project" target="_blank" rel="noreferrer">查看详情</a>，HBuilderX 3.2.10+</td></tr><tr><td style="text-align:left;">axmlStrictCheck</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否启用 <code>axml</code> 严格语法检查，默认为false</td></tr><tr><td style="text-align:left;">enableParallelLoader</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否启用多进程编译，默认为false</td></tr><tr><td style="text-align:left;">enableDistFileMinify</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否压缩编译产物（仅在真机预览/真机调试时生效），默认为false</td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">支付宝小程序是否开启 uni 统计，配置方法同全局配置</a></td></tr><tr><td style="text-align:left;">scopedSlotsCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">Vue2 作用域插槽编译模式，uni-app 3.1.19+ 开始支持，可选：legacy、auto、augmented，默认：auto</td></tr><tr><td style="text-align:left;">mergeVirtualHostAttributes</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">合并组件<a href="/leo-docs/tutorial/vue-api.html#其他配置">虚拟节点</a>外层属性（目前仅支持 style、class 属性），uni-app 3.5.1+ 开始支持</td></tr><tr><td style="text-align:left;">slotMultipleInstance</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">模拟单个作用域插槽渲染为多个实例，此配置仅限 Vue2 环境 3.7.12+，Vue3 环境已默认支持</td></tr><tr><td style="text-align:left;">lazyCodeLoading</td><td style="text-align:left;">String</td><td style="text-align:left;">是否开启代码按需执行。</td></tr></tbody></table><h3 id="mp-baidu" tabindex="-1">mp-baidu <a class="header-anchor" href="#mp-baidu" aria-label="Permalink to &quot;mp-baidu&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">appid</td><td style="text-align:left;">String</td><td style="text-align:left;">百度小程序的 AppID，登录 <a href="https://smartprogram.baidu.com/docs/introduction/enter_application/" target="_blank" rel="noreferrer">https://smartprogram.baidu.com/docs/introduction/enter_application/</a> 申请</td></tr><tr><td style="text-align:left;">requiredBackgroundModes</td><td style="text-align:left;">Array</td><td style="text-align:left;">小程序需要在后台使用的能力，目前支持背景音频播放，&quot;requiredBackgroundModes&quot;: [&quot;audio&quot;]，<a href="https://smartprogram.baidu.com/docs/develop/tutorial/process/#requiredBackgroundModes" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">prefetches</td><td style="text-align:left;">Array</td><td style="text-align:left;">预请求的所有url的列表，<a href="https://smartprogram.baidu.com/docs/develop/tutorial/process/#prefetches" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">optimization</td><td style="text-align:left;">Object</td><td style="text-align:left;">对百度小程序的优化配置</td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">百度小程序是否开启 uni 统计，配置方法同全局配置</a></td></tr><tr><td style="text-align:left;">scopedSlotsCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">Vue2 作用域插槽编译模式，uni-app 3.1.19+ 开始支持，可选：legacy、auto、augmented，默认：auto</td></tr><tr><td style="text-align:left;">slotMultipleInstance</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">模拟单个作用域插槽渲染为多个实例，此配置仅限 Vue2 环境 3.7.12+，Vue3 环境已默认支持</td></tr><tr><td style="text-align:left;">dynamicLib</td><td style="text-align:left;">Object</td><td style="text-align:left;">引入动态库，详情请参考<a href="https://smartprogram.baidu.com/docs/develop/framework/dynamiclib_use/" target="_blank" rel="noreferrer">使用动态库</a></td></tr></tbody></table><h4 id="optimization-2" tabindex="-1">optimization <a class="header-anchor" href="#optimization-2" aria-label="Permalink to &quot;optimization&quot;">​</a></h4><p>对百度小程序的优化配置</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">subPackages</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否开启分包优化</td></tr></tbody></table><h3 id="mp-toutiao" tabindex="-1">mp-toutiao <a class="header-anchor" href="#mp-toutiao" aria-label="Permalink to &quot;mp-toutiao&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">appid</td><td style="text-align:left;">String</td><td style="text-align:left;">字节跳动小程序的 AppID，登录 <a href="https://microapp.bytedance.com/" target="_blank" rel="noreferrer">https://microapp.bytedance.com/</a> 申请</td></tr><tr><td style="text-align:left;">setting</td><td style="text-align:left;">Object</td><td style="text-align:left;">字节跳动小程序项目设置，参考<a href="/leo-docs/collocation/manifest.html?id=mp-toutiao-setting">字节跳动小程序项目设置</a></td></tr><tr><td style="text-align:left;">navigateToMiniProgramAppIdList</td><td style="text-align:left;">Array</td><td style="text-align:left;">需要跳转的小程序列表，<a href="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/framework/basic-reference/general-configuration/" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">字节跳动小程序是否开启 uni 统计，配置方法同全局配置</a></td></tr><tr><td style="text-align:left;">scopedSlotsCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">Vue2 作用域插槽编译模式，uni-app 3.1.19+ 开始支持，可选：legacy、auto、augmented，默认：auto</td></tr><tr><td style="text-align:left;">slotMultipleInstance</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">模拟单个作用域插槽渲染为多个实例，此配置仅限 Vue2 环境 3.7.12+，Vue3 环境已默认支持</td></tr></tbody></table><h4 id="字节跳动小程序项目设置-mp-toutiao-setting" tabindex="-1">字节跳动小程序项目设置@mp-toutiao-setting <a class="header-anchor" href="#字节跳动小程序项目设置-mp-toutiao-setting" aria-label="Permalink to &quot;字节跳动小程序项目设置@mp-toutiao-setting&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">urlCheck</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否检查安全域名和 TLS 版本</td></tr><tr><td style="text-align:left;">es6</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">ES6 转 ES5</td></tr><tr><td style="text-align:left;">postcss</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">上传代码时样式是否自动补全</td></tr><tr><td style="text-align:left;">minified</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">上传代码时是否自动压缩</td></tr></tbody></table><h3 id="mp-lark" tabindex="-1">mp-lark <a class="header-anchor" href="#mp-lark" aria-label="Permalink to &quot;mp-lark&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">appid</td><td style="text-align:left;">String</td><td style="text-align:left;">飞书小程序的 AppID，登录 <a href="https://open.feishu.cn" target="_blank" rel="noreferrer">https://open.feishu.cn</a> 申请</td></tr><tr><td style="text-align:left;">setting</td><td style="text-align:left;">Object</td><td style="text-align:left;">飞书小程序项目设置，参考<a href="/leo-docs/collocation/manifest.html?id=mp-lark-setting">飞书小程序项目设置</a></td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">飞书小程序是否开启 uni 统计，配置方法同全局配置</a></td></tr><tr><td style="text-align:left;">scopedSlotsCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">Vue2 作用域插槽编译模式，uni-app 3.1.19+ 开始支持，可选：legacy、auto、augmented，默认：auto</td></tr><tr><td style="text-align:left;">slotMultipleInstance</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">模拟单个作用域插槽渲染为多个实例，此配置仅限 Vue2 环境 3.7.12+，Vue3 环境已默认支持</td></tr></tbody></table><h4 id="飞书小程序项目设置-mp-lark-setting" tabindex="-1">飞书小程序项目设置@mp-lark-setting <a class="header-anchor" href="#飞书小程序项目设置-mp-lark-setting" aria-label="Permalink to &quot;飞书小程序项目设置@mp-lark-setting&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">urlCheck</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否检查安全域名和 TLS 版本</td></tr><tr><td style="text-align:left;">es6</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">ES6 转 ES5</td></tr><tr><td style="text-align:left;">postcss</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">上传代码时样式是否自动补全</td></tr><tr><td style="text-align:left;">minified</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">上传代码时是否自动压缩</td></tr></tbody></table><h3 id="mp-qq" tabindex="-1">mp-qq <a class="header-anchor" href="#mp-qq" aria-label="Permalink to &quot;mp-qq&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">appid</td><td style="text-align:left;">String</td><td style="text-align:left;">qq 小程序的 AppID，登录 <a href="https://q.qq.com" target="_blank" rel="noreferrer">https://q.qq.com</a> 申请</td></tr><tr><td style="text-align:left;">requiredBackgroundModes</td><td style="text-align:left;">Array</td><td style="text-align:left;">小程序需要在后台使用的能力，目前支持背景音频播放，&quot;requiredBackgroundModes&quot;: [&quot;audio&quot;]，<a href="https://q.qq.com/wiki/develop/miniprogram/frame/dispose.html#requiredbackgroundmodes" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">navigateToMiniProgramAppIdList</td><td style="text-align:left;">Array</td><td style="text-align:left;">需要跳转的小程序列表，<a href="https://q.qq.com/wiki/develop/miniprogram/frame/dispose.html#navigatetominiprogramappidlist" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">permission</td><td style="text-align:left;">Object</td><td style="text-align:left;">小程序接口权限相关设置，比如申请位置权限必须填此处<a href="https://q.qq.com/wiki/develop/miniprogram/frame/dispose.html#permission" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">workers</td><td style="text-align:left;">String</td><td style="text-align:left;">Worker 代码放置的目录。 <a href="https://q.qq.com/wiki/develop/miniprogram/frame/dispose.html#workers" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td style="text-align:left;">groupIdList</td><td style="text-align:left;">String Array</td><td style="text-align:left;">需要打开群资料卡的群号列表，详见button的open-type</td></tr><tr><td style="text-align:left;">optimization</td><td style="text-align:left;">Object</td><td style="text-align:left;">对QQ小程序的优化配置</td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">QQ小程序是否开启 uni 统计，配置方法同全局配置</a></td></tr><tr><td style="text-align:left;">scopedSlotsCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">Vue2 作用域插槽编译模式，uni-app 3.1.19+ 开始支持，可选：legacy、auto、augmented，默认：auto</td></tr><tr><td style="text-align:left;">slotMultipleInstance</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">模拟单个作用域插槽渲染为多个实例，此配置仅限 Vue2 环境 3.7.12+，Vue3 环境已默认支持</td></tr></tbody></table><h4 id="optimization-3" tabindex="-1">optimization <a class="header-anchor" href="#optimization-3" aria-label="Permalink to &quot;optimization&quot;">​</a></h4><p>对QQ小程序的优化配置</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">subPackages</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否开启分包优化</td></tr></tbody></table><h3 id="mp-kuaishou" tabindex="-1">mp-kuaishou <a class="header-anchor" href="#mp-kuaishou" aria-label="Permalink to &quot;mp-kuaishou&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">appid</td><td style="text-align:left;">String</td><td style="text-align:left;">快手小程序的 AppID，登录 <a href="https://mp.kuaishou.com" target="_blank" rel="noreferrer">https://mp.kuaishou.com</a> 申请</td></tr><tr><td style="text-align:left;">optimization</td><td style="text-align:left;">Object</td><td style="text-align:left;">对快手小程序的优化配置</td></tr><tr><td style="text-align:left;">uniStatistics</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="/leo-docs/collocation/manifest.html?id=uniStatistics">快手小程序是否开启 uni 统计，配置方法同全局配置</a></td></tr><tr><td style="text-align:left;">scopedSlotsCompiler</td><td style="text-align:left;">String</td><td style="text-align:left;">Vue2 作用域插槽编译模式，uni-app 3.1.19+ 开始支持，可选：legacy、auto、augmented，默认：augmented</td></tr><tr><td style="text-align:left;">slotMultipleInstance</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">模拟单个作用域插槽渲染为多个实例，此配置仅限 Vue2 环境 3.7.12+，Vue3 环境已默认支持</td></tr></tbody></table><h4 id="optimization-4" tabindex="-1">optimization <a class="header-anchor" href="#optimization-4" aria-label="Permalink to &quot;optimization&quot;">​</a></h4><p>对快手小程序的优化配置</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">subPackages</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是否开启分包优化</td></tr></tbody></table><h3 id="自定义小程序项目配置" tabindex="-1">自定义小程序项目配置 <a class="header-anchor" href="#自定义小程序项目配置" aria-label="Permalink to &quot;自定义小程序项目配置&quot;">​</a></h3><p>HBuilderX 3.6.16+ 支持项目根目录(cli 项目为 src 目录)下创建配置文件自定义小程序项目配置。平台对应文件名如下：</p><table><thead><tr><th style="text-align:left;">小程序平台</th><th style="text-align:left;">文件名</th></tr></thead><tbody><tr><td style="text-align:left;">微信</td><td style="text-align:left;">project.config.json</td></tr><tr><td style="text-align:left;">QQ</td><td style="text-align:left;">project.config.json</td></tr><tr><td style="text-align:left;">百度</td><td style="text-align:left;">project.swan.json</td></tr><tr><td style="text-align:left;">支付宝</td><td style="text-align:left;">mini.project.json</td></tr><tr><td style="text-align:left;">字节跳动</td><td style="text-align:left;">project.tt.json</td></tr><tr><td style="text-align:left;">飞书</td><td style="text-align:left;">project.lark.json</td></tr><tr><td style="text-align:left;">快手</td><td style="text-align:left;">project.ks.json</td></tr><tr><td style="text-align:left;">京东</td><td style="text-align:left;">project.config.json</td></tr></tbody></table><h3 id="关于分包优化的说明" tabindex="-1">关于分包优化的说明 <a class="header-anchor" href="#关于分包优化的说明" aria-label="Permalink to &quot;关于分包优化的说明&quot;">​</a></h3><ul><li>在对应平台的配置下添加<code>&quot;optimization&quot;:{&quot;subPackages&quot;:true}</code>开启分包优化</li><li>目前只支持<code>mp-weixin</code>、<code>mp-qq</code>、<code>mp-baidu</code>、<code>mp-toutiao</code>、<code>mp-kuaishou</code>的分包优化</li><li>分包优化具体逻辑： <ul><li>静态文件：分包下支持 static 等静态资源拷贝，即分包目录内放置的静态资源不会被打包到主包中，也不可在主包中使用</li><li>js文件：当某个 js 仅被一个分包引用时，该 js 会被打包到该分包内，否则仍打到主包（即被主包引用，或被超过 1 个分包引用）</li><li>自定义组件：若某个自定义组件仅被一个分包引用时，且未放入到分包内，编译时会输出提示信息</li></ul></li></ul><p><strong>分包内静态文件示例</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">subPackages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pages/sub</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">pages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">path</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">index/index</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}]</span></span>
<span class="line"><span style="color:#89DDFF;">}]</span></span>
<span class="line"></span></code></pre></div><p>以上面的分包为例，放在每个分包root对应目录下的静态文件会被打包到此分包内。</p><h3 id="快应用-quickapp-webview" tabindex="-1">快应用@quickapp-webview <a class="header-anchor" href="#快应用-quickapp-webview" aria-label="Permalink to &quot;快应用@quickapp-webview&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">icon</td><td style="text-align:left;">String</td><td style="text-align:left;">应用图标，华为推荐 192x192</td></tr><tr><td style="text-align:left;">package</td><td style="text-align:left;">String</td><td style="text-align:left;">应用包名</td></tr><tr><td style="text-align:left;">minPlatformVersion</td><td style="text-align:left;">Number</td><td style="text-align:left;">最小平台运行支持(华为最低 1070，vivo 1063)</td></tr><tr><td style="text-align:left;">versionName</td><td style="text-align:left;">String</td><td style="text-align:left;">版本名称</td></tr><tr><td style="text-align:left;">versionCode</td><td style="text-align:left;">Number</td><td style="text-align:left;">版本号</td></tr></tbody></table><p><strong>manifest.json配置</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">quickapp-webview</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">// 快应用通用配置</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">icon</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/static/logo.png</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">package</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.example.demo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">versionName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">versionCode</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">quickapp-webview-union</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">// 快应用联盟，目前仅支持 vivo、oppo</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">minPlatformVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1063</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//最小平台支持</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">quickapp-webview-huawei</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">// 快应用华为</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">minPlatformVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1070</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//最小平台支持</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h3><p>Q：iOS 应用调用相机等权限时，弹出的提示语如何修改？ A：在 manifest.json 可视化界面-App模块权限配置-iOS隐私信息访问的许可描述</p>`,156),o=[n];function p(r,i,d,c,y,g){return l(),e("div",null,o)}const D=t(s,[["render",p]]);export{h as __pageData,D as default};
