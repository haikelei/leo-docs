import{_ as a,c as n,o as s,N as l,x as t,a as e}from"./chunks/framework.fc67cb9d.js";const D=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"component/map.md","lastUpdated":1685603474000}'),d={name:"component/map.md"},i=l('<h3 id="map" tabindex="-1">map <a class="header-anchor" href="#map" aria-label="Permalink to &quot;map&quot;">​</a></h3><p>地图组件。</p><p>地图组件用于展示地图，而定位API只是获取坐标，请勿混淆两者。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快应用</th><th style="text-align:center;">360小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">1.63+</td><td style="text-align:center;">1.9.0+</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><p><strong>地图服务商说明</strong></p><table><thead><tr><th style="text-align:center;">地图服务商</th><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th></tr></thead><tbody><tr><td style="text-align:center;">高德</td><td style="text-align:center;">√</td><td style="text-align:center;">3.6.0+</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">Goolge</td><td style="text-align:center;">3.4+ 仅nvue页面</td><td style="text-align:center;">3.2.10+</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">腾讯</td><td style="text-align:center;"></td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><p><strong>属性说明</strong></p>',8),r=t("table",null,[t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"属性名"),t("th",{style:{"text-align":"left"}},"类型"),t("th",{style:{"text-align":"left"}},"默认值"),t("th",{style:{"text-align":"left"}},"说明"),t("th",{style:{"text-align":"left"}},"平台差异说明")])]),t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"longitude"),t("td",{style:{"text-align":"left"}},"Number"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"中心经度"),t("td",{style:{"text-align":"left"}})]),t("tr",null,[t("td",{style:{"text-align":"left"}},"latitude"),t("td",{style:{"text-align":"left"}},"Number"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"中心纬度"),t("td",{style:{"text-align":"left"}})]),t("tr",null,[t("td",{style:{"text-align":"left"}},"scale"),t("td",{style:{"text-align":"left"}},"Number"),t("td",{style:{"text-align":"left"}},"16"),t("td",{style:{"text-align":"left"}},"缩放级别，取值范围为3-20"),t("td",{style:{"text-align":"left"}},"高德地图缩放比例与微信小程序不同")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"theme"),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"normal"),t("td",{style:{"text-align":"left"}},"主题（satellite 或 normal）只在初始化时有效，不能动态变更（仅Android支持）"),t("td",{style:{"text-align":"left"}},"京东小程序")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"min-scale"),t("td",{style:{"text-align":"left"}},"Number"),t("td",{style:{"text-align":"left"}},"3"),t("td",{style:{"text-align":"left"}},"最小缩放级别"),t("td",{style:{"text-align":"left"}},"App-nvue 3.1.0+、微信小程序2.13+")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"max-scale"),t("td",{style:{"text-align":"left"}},"Number"),t("td",{style:{"text-align":"left"}},"20"),t("td",{style:{"text-align":"left"}},"最大缩放级别"),t("td",{style:{"text-align":"left"}},"App-nvue 3.1.0+、微信小程序2.13+")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"layer-style"),t("td",{style:{"text-align":"left"}},"Number/String"),t("td",{style:{"text-align":"left"}},"1"),t("td",{style:{"text-align":"left"}},"个性化地图"),t("td",{style:{"text-align":"left"}},"App-nvue 3.1.0+、微信小程序2.13+")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"markers"),t("td",{style:{"text-align":"left"}},"Array"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"标记点"),t("td",{style:{"text-align":"left"}})]),t("tr",null,[t("td",{style:{"text-align":"left"}},"polyline"),t("td",{style:{"text-align":"left"}},"Array"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"路线"),t("td",{style:{"text-align":"left"}},"飞书小程序不支持")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"circles"),t("td",{style:{"text-align":"left"}},"Array"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"圆"),t("td",{style:{"text-align":"left"}})]),t("tr",null,[t("td",{style:{"text-align":"left"}},"controls"),t("td",{style:{"text-align":"left"}},"Array"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"控件"),t("td",{style:{"text-align":"left"}})]),t("tr",null,[t("td",{style:{"text-align":"left"}},"include-points"),t("td",{style:{"text-align":"left"}},"Array"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"缩放视野以包含所有给定的坐标点"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序、H5、百度小程序、支付宝小程序、京东小程序")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-3D"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否显示3D楼块"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序2.3.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"show-compass"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否显示指南针"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序2.3.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-zoom"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"true"),t("td",{style:{"text-align":"left"}},"是否支持缩放"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序2.3.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-scroll"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"true"),t("td",{style:{"text-align":"left"}},"是否支持拖动"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序2.3.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-rotate"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否支持旋转"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序2.3.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-overlooking"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否开启俯视"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序2.3.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-satellite"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否开启卫星图"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序2.7.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-traffic"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否开启实时路况"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、微信小程序2.7.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-poi"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否展示 POI 点"),t("td",{style:{"text-align":"left"}},"App-nvue 3.1.0+")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-building"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否展示建筑物"),t("td",{style:{"text-align":"left"}},[e("App-nvue 3.1.0+ 支持 ("),t("strong",null,"废除原enable-3D属性 高德地图默认开启建筑物就是3D无法设置"),e(")")])]),t("tr",null,[t("td",{style:{"text-align":"left"}},"show-location"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"显示带有方向的当前定位点"),t("td",{style:{"text-align":"left"}},"微信小程序、H5、百度小程序、支付宝小程序、京东小程序")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"polygons"),t("td",{style:{"text-align":"left"}},[e("Array."),t("code",null,"<polygon>")]),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"多边形"),t("td",{style:{"text-align":"left"}},"App-nvue 2.1.5+、App-vue 3.4.3+、H5 3.4.3+、微信小程序、百度小程序、支付宝小程序")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"enable-indoorMap"),t("td",{style:{"text-align":"left"}},"Boolean"),t("td",{style:{"text-align":"left"}},"false"),t("td",{style:{"text-align":"left"}},"是否展示室内地图"),t("td",{style:{"text-align":"left"}},"App-nvue 3.1.0+")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@markertap"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},[e("点击标记点时触发，"),t("code",null,"e.detail = {markerId}")]),t("td",{style:{"text-align":"left"}},"App-nvue 2.3.3+、H5、微信小程序、支付宝小程序 （App和H5平台需要指定 marker 对象属性 id）")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@labeltap"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},[e("点击label时触发，"),t("code",null,"e.detail = {markerId}")]),t("td",{style:{"text-align":"left"}},"微信小程序2.9.0")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@callouttap"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"},markerId:""},"点击标记点对应的气泡时触发，e.detail ="),t("td",{style:{"text-align":"left"}})]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@controltap"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},[e("点击控件时触发，"),t("code",null,"e.detail = {controlId}")]),t("td",{style:{"text-align":"left"}})]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@regionchange"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"视野发生变化时触发"),t("td",{style:{"text-align":"left"}},"微信小程序、H5、百度小程序、支付宝小程序、京东小程序")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@tap"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"点击地图时触发; App-nvue、微信小程序2.9支持返回经纬度"),t("td",{style:{"text-align":"left"}})]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@updated"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},"在地图渲染更新完成时触发"),t("td",{style:{"text-align":"left"}},"微信小程序、H5、百度小程序")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@anchorpointtap"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},[e("点击定位标时触发，"),t("code",null,"e.detail = {longitude, latitude}")]),t("td",{style:{"text-align":"left"}},"App-nvue 3.1.0+、微信小程序2.13+")]),t("tr",null,[t("td",{style:{"text-align":"left"}},"@poitap"),t("td",{style:{"text-align":"left"}},"EventHandle"),t("td",{style:{"text-align":"left"}}),t("td",{style:{"text-align":"left"}},[e("点击地图poi点时触发，"),t("code",null,"e.detail = {name, longitude, latitude}")]),t("td",{style:{"text-align":"left"}},"微信小程序2.3.0+")])])],-1),y=l(`<p><strong>注意</strong></p><ul><li><code>&lt;map&gt;</code> 组件的宽/高推荐写直接量，比如：750rpx，不要设置百分比值。</li><li>谷歌地图使用 <code>wgs84</code> 坐标，其他地图使用 <code>gcj02</code> 坐标，用错坐标类型会显示偏移。</li><li>App平台 <code>layer-style</code> 属性需要在地图服务商后台创建，值设置为高德后台申请的字符串，<a href="https://developer.amap.com/api/android-sdk/guide/create-map/custom" target="_blank" rel="noreferrer">详情</a>。</li><li>H5 端高德地图 include-points 属性仅支持 2 个坐标点，表示显示范围的西南角和东北角。</li></ul><h3 id="近期新增功能" tabindex="-1">近期新增功能 <a class="header-anchor" href="#近期新增功能" aria-label="Permalink to &quot;近期新增功能&quot;">​</a></h3><ol><li>支持点聚合，适用于marker过多场景。</li><li>支持彩虹蚯蚓线，常用于路线规划场景。</li><li>覆盖物支持调整与其它地图元素的压盖关系。</li><li>支持marker（小车）平移动画，适用于轨迹回放场景。</li></ol><p><strong>markers</strong></p><p>标记点用于在地图上显示标记的位置</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">备注</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">id</td><td style="text-align:left;">标记点id</td><td style="text-align:left;">Number</td><td style="text-align:left;">是</td><td style="text-align:left;">marker点击事件回调会返回此id。建议为每个marker设置上Number类型id，保证更新marker时有更好的性能。最大限制9位数</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">纬度</td><td style="text-align:left;">Number</td><td style="text-align:left;">是</td><td style="text-align:left;">浮点数，范围 -90 ~ 90</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">经度</td><td style="text-align:left;">Number</td><td style="text-align:left;">是</td><td style="text-align:left;">浮点数，范围 -180 ~ 180</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">title</td><td style="text-align:left;">标注点名</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">点击时显示，callout存在时将被忽略</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、支付宝小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">iconPath</td><td style="text-align:left;">显示的图标</td><td style="text-align:left;">String</td><td style="text-align:left;">是</td><td style="text-align:left;">项目目录下的图片路径，支持相对路径写法，以&#39;/&#39;开头则表示相对小程序根目录；也支持临时路径</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">rotate</td><td style="text-align:left;">旋转角度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">顺时针旋转的角度，范围 0 ~ 360，默认为 0</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、支付宝小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">alpha</td><td style="text-align:left;">标注的透明度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">默认1，无透明，范围 0 ~ 1</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、支付宝小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">width</td><td style="text-align:left;">标注图标宽度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为图片实际宽度</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、支付宝小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">height</td><td style="text-align:left;">标注图标高度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为图片实际高度</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、支付宝小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">callout</td><td style="text-align:left;">自定义标记点上方的气泡窗口</td><td style="text-align:left;">Object</td><td style="text-align:left;">否</td><td style="text-align:left;">支持的属性见下表，可识别换行符。</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、支付宝小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">label</td><td style="text-align:left;">为标记点旁边增加标签</td><td style="text-align:left;">Object</td><td style="text-align:left;">否</td><td style="text-align:left;">支持的属性见下表，可识别换行符。</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、App、百度小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">anchor</td><td style="text-align:left;">经纬度在标注图标的锚点，默认底边中点</td><td style="text-align:left;">Object</td><td style="text-align:left;">否</td><td style="text-align:left;">{x, y}，x表示横向(0-1)，y表示竖向(0-1)。{x: .5, y: 1} 表示底边中点</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">clusterId</td><td style="text-align:left;">自定义点聚合簇效果时使用</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">App-nvue 3.1.0+、微信小程序</td></tr><tr><td style="text-align:left;">customCallout</td><td style="text-align:left;">自定义气泡窗口</td><td style="text-align:left;">Object</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">aria-label</td><td style="text-align:left;">无障碍访问，（属性）元素的额外描述</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">App-nvue 3.1.0+、微信小程序</td></tr><tr><td style="text-align:left;">joinCluster</td><td style="text-align:left;">是否参与点聚合</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">否</td><td style="text-align:left;">如果指定点聚合 此选项值必须设置为true,才会生效</td><td style="text-align:left;">App-nvue 3.1.0+、微信小程序</td></tr></tbody></table><p><strong>marker 上的气泡 callout</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">content</td><td style="text-align:left;">文本</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、京东小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">color</td><td style="text-align:left;">文本颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">fontSize</td><td style="text-align:left;">文字大小</td><td style="text-align:left;">Number</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">borderRadius</td><td style="text-align:left;">callout边框圆角</td><td style="text-align:left;">Number</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">borderWidth</td><td style="text-align:left;">边框宽度</td><td style="text-align:left;">Number</td><td style="text-align:left;">微信小程序、京东小程序、百度小程序</td></tr><tr><td style="text-align:left;">borderColor</td><td style="text-align:left;">边框颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">微信小程序、京东小程序、百度小程序</td></tr><tr><td style="text-align:left;">bgColor</td><td style="text-align:left;">背景色</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">padding</td><td style="text-align:left;">文本边缘留白</td><td style="text-align:left;">Number</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">display</td><td style="text-align:left;">&#39;BYCLICK&#39;:点击显示; &#39;ALWAYS&#39;:常显</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">textAlign</td><td style="text-align:left;">文本对齐方式。有效值: left, right, center</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">anchorX</td><td style="text-align:left;">横向偏移量，向右为正数</td><td style="text-align:left;">Number</td><td style="text-align:left;">微信小程序2.11.0</td></tr><tr><td style="text-align:left;">anchorY</td><td style="text-align:left;">纵向偏移量，向下为正数</td><td style="text-align:left;">Number</td><td style="text-align:left;">微信小程序2.11.0</td></tr></tbody></table><p><strong>marker 上的标签 label</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">content</td><td style="text-align:left;">文本</td><td style="text-align:left;">String</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">color</td><td style="text-align:left;">文本颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">fontSize</td><td style="text-align:left;">文字大小</td><td style="text-align:left;">Number</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">x</td><td style="text-align:left;">label的坐标，原点是 marker 对应的经纬度</td><td style="text-align:left;">Number</td><td style="text-align:left;">H5、百度小程序</td></tr><tr><td style="text-align:left;">y</td><td style="text-align:left;">label的坐标，原点是 marker 对应的经纬度</td><td style="text-align:left;">Number</td><td style="text-align:left;">H5、百度小程序</td></tr><tr><td style="text-align:left;">anchorX</td><td style="text-align:left;">label的坐标，原点是 marker 对应的经纬度</td><td style="text-align:left;">Number</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序</td></tr><tr><td style="text-align:left;">anchorY</td><td style="text-align:left;">label的坐标，原点是 marker 对应的经纬度</td><td style="text-align:left;">Number</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序</td></tr><tr><td style="text-align:left;">borderWidth</td><td style="text-align:left;">边框宽度</td><td style="text-align:left;">Number</td><td style="text-align:left;">微信小程序、百度小程序</td></tr><tr><td style="text-align:left;">borderColor</td><td style="text-align:left;">边框颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">微信小程序、百度小程序</td></tr><tr><td style="text-align:left;">borderRadius</td><td style="text-align:left;">边框圆角</td><td style="text-align:left;">Number</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、百度小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">bgColor</td><td style="text-align:left;">背景色</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、百度小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">padding</td><td style="text-align:left;">文本边缘留白</td><td style="text-align:left;">Number</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、百度小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">textAlign</td><td style="text-align:left;">文本对齐方式。有效值: left, right, center</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、百度小程序</td></tr><tr><td style="text-align:left;">aria-label</td><td style="text-align:left;">无障碍访问，（属性）元素的额外描述</td><td style="text-align:left;">String</td><td style="text-align:left;">App-nvue 3.1.0+、微信小程序</td></tr></tbody></table><h3 id="点聚合" tabindex="-1">点聚合 <a class="header-anchor" href="#点聚合" aria-label="Permalink to &quot;点聚合&quot;">​</a></h3><p>当地图上需要展示的标记点 marker 过多时，可能会导致界面上 marker 出现压盖，展示不全，并导致整体性能变差。针对此类问题，推出点聚合能力。</p><p>使用流程如下：</p><p><a href="/leo-docs/api/location/map.html?id=createmapcontext">MapContext.initMarkerCluster</a> 对聚合点进行初始化配置（可选）； <a href="/leo-docs/api/location/map.html?id=createmapcontext">MapContext.addMarkers</a> 指定参与聚合的 marker； MapContext.on(&#39;markerClusterCreate&#39;, callback) 触发时，通过 <a href="/leo-docs/api/location/map.html?id=createmapcontext">MapContext.addMarkers</a> 更新聚合簇的样式 （可选）； <a href="/leo-docs/api/location/map.html?id=createmapcontext">MapContext.removeMarkers</a> 移除参与聚合的 marker；</p><p><strong>polyline</strong></p><p>指定一系列坐标点，从数组第一项连线至最后一项</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">备注</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">points</td><td style="text-align:left;">经纬度数组</td><td style="text-align:left;">Array</td><td style="text-align:left;">是</td><td style="text-align:left;">[{latitude: 0, longitude: 0}]</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">color</td><td style="text-align:left;">线的颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">8位十六进制表示，后两位表示alpha值，如：#0000AA</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">width</td><td style="text-align:left;">线的宽度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">dottedLine</td><td style="text-align:left;">是否虚线</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">否</td><td style="text-align:left;">默认false</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、H5、百度小程序、支付宝小程序、京东小程序</td></tr><tr><td style="text-align:left;">arrowLine</td><td style="text-align:left;">带箭头的线</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">否</td><td style="text-align:left;">默认false，微信小程序开发者工具暂不支持该属性</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">arrowIconPath</td><td style="text-align:left;">更换箭头图标</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">在arrowLine为true时生效</td><td style="text-align:left;">App-nvue 2.1.5+、微信小程序、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">borderColor</td><td style="text-align:left;">线的边框颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">borderWidth</td><td style="text-align:left;">线的厚度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">微信小程序、H5、百度小程序、京东小程序</td></tr><tr><td style="text-align:left;">colorList</td><td style="text-align:left;">彩虹线</td><td style="text-align:left;">Array</td><td style="text-align:left;">false</td><td style="text-align:left;">存在时忽略 color 值</td><td style="text-align:left;">App-nvue 3.1.0+、微信小程序</td></tr><tr><td style="text-align:left;">level</td><td style="text-align:left;">压盖关系，默认为 abovelabels</td><td style="text-align:left;">String</td><td style="text-align:left;">false</td><td style="text-align:left;"></td><td style="text-align:left;">微信小程序</td></tr></tbody></table><p><strong>注意事项</strong></p><ul><li>App-nvue 当 arrowLine 为 true 时，显示的是带箭头的图片拼接的线 color 值会被忽略，替换箭头图片的方法<a href="https://ask.dcloud.net.cn/article/37901" target="_blank" rel="noreferrer">参考文档</a></li></ul><p><strong>polygon</strong><br> 指定一系列坐标点，根据 points 坐标数据生成闭合多边形</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td style="text-align:left;">points</td><td style="text-align:left;">经纬度数组</td><td style="text-align:left;">array</td><td style="text-align:left;">是</td><td style="text-align:left;">[{latitude: 0, longitude: 0}]</td></tr><tr><td style="text-align:left;">strokeWidth</td><td style="text-align:left;">描边的宽度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">strokeColor</td><td style="text-align:left;">描边的颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">十六进制</td></tr><tr><td style="text-align:left;">fillColor</td><td style="text-align:left;">填充颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">十六进制</td></tr><tr><td style="text-align:left;">zIndex</td><td style="text-align:left;">设置多边形 Z 轴数值</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">level</td><td style="text-align:left;">压盖关系，默认为 abovelabels</td><td style="text-align:left;">String</td><td style="text-align:left;">false</td><td style="text-align:left;">微信小程序</td></tr></tbody></table><p><strong>circles</strong></p><p>在地图上显示圆</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">纬度</td><td style="text-align:left;">Number</td><td style="text-align:left;">是</td><td style="text-align:left;">浮点数，范围 -90 ~ 90</td></tr><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">经度</td><td style="text-align:left;">Number</td><td style="text-align:left;">是</td><td style="text-align:left;">浮点数，范围 -180 ~ 180</td></tr><tr><td style="text-align:left;">color</td><td style="text-align:left;">描边的颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">8位十六进制表示，后两位表示alpha值，如：#000000AA；#00000为十六进制</td></tr><tr><td style="text-align:left;">fillColor</td><td style="text-align:left;">填充颜色</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">8位十六进制表示，后两位表示alpha值，如：#000000AA；#00000为十六进制</td></tr><tr><td style="text-align:left;">radius</td><td style="text-align:left;">半径</td><td style="text-align:left;">Number</td><td style="text-align:left;">是</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">strokeWidth</td><td style="text-align:left;">描边的宽度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;"> </td></tr><tr><td style="text-align:left;">level</td><td style="text-align:left;">压盖关系，默认为 abovelabels</td><td style="text-align:left;">String</td><td style="text-align:left;">false</td><td style="text-align:left;">微信小程序</td></tr></tbody></table><p><strong>controls</strong></p><p>在地图上显示控件，控件不随着地图移动</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td style="text-align:left;">id</td><td style="text-align:left;">控件id</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">在控件点击事件回调会返回此id</td></tr><tr><td style="text-align:left;">position</td><td style="text-align:left;">控件在地图的位置</td><td style="text-align:left;">Object</td><td style="text-align:left;">是</td><td style="text-align:left;">控件相对地图位置</td></tr><tr><td style="text-align:left;">iconPath</td><td style="text-align:left;">显示的图标</td><td style="text-align:left;">String</td><td style="text-align:left;">是</td><td style="text-align:left;">项目目录下的图片路径，支持相对路径写法，以&#39;/&#39;开头则表示相对项目根目录；也支持临时路径</td></tr><tr><td style="text-align:left;">clickable</td><td style="text-align:left;">是否可点击</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">否</td><td style="text-align:left;">默认不可点击</td></tr></tbody></table><p><strong>position</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td style="text-align:left;">left</td><td style="text-align:left;">距离地图的左边界多远</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为0</td></tr><tr><td style="text-align:left;">top</td><td style="text-align:left;">距离地图的上边界多远</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为0</td></tr><tr><td style="text-align:left;">width</td><td style="text-align:left;">控件宽度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为图片宽度</td></tr><tr><td style="text-align:left;">height</td><td style="text-align:left;">控件高度</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为图片高度</td></tr></tbody></table><p>地图组件的经纬度必填，如果不填经纬度则默认值是北京的经纬度。</p><p><strong>示例</strong> <a href="https://hellouniapp.dcloud.net.cn/pages/component/map/map" target="_blank" rel="noreferrer">查看示例</a></p><p>::: preview <a href="https://hellouniapp.dcloud.net.cn/pages/component/map/map" target="_blank" rel="noreferrer">https://hellouniapp.dcloud.net.cn/pages/component/map/map</a></p><blockquote><p>Template</p></blockquote><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">page-body</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">page-section page-section-gap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">map</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">width: 100%; height: 300px;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:latitude</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">latitude</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:longitude</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">longitude</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:markers</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">covers</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">map</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><blockquote><p>Script</p></blockquote><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">			id</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 使用 marker点击事件 需要填写id</span></span>
<span class="line"><span style="color:#F07178;">			title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">map</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">			latitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">39.909</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">			longitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">116.39742</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">			covers</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">				latitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">39.909</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">				longitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">116.39742</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">				iconPath</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../../../static/location.png</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">			</span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">				latitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">39.90</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">				longitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">116.39</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">				iconPath</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../../../static/location.png</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">			</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">methods</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>:::</p><h2 id="app平台地图服务商差异" tabindex="-1">App平台地图服务商差异 <a class="header-anchor" href="#app平台地图服务商差异" aria-label="Permalink to &quot;App平台地图服务商差异&quot;">​</a></h2><h3 id="map-地图组件" tabindex="-1">Map 地图组件 <a class="header-anchor" href="#map-地图组件" aria-label="Permalink to &quot;Map 地图组件&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">高德是否支持</th><th style="text-align:left;">google地图是否支持</th></tr></thead><tbody><tr><td style="text-align:left;">subkey</td><td style="text-align:left;">个性化地图使用的key</td><td style="text-align:left;">不支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">show-scale</td><td style="text-align:left;">显示比例尺</td><td style="text-align:left;">已支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">enable-poi</td><td style="text-align:left;">是否展示 POI 点</td><td style="text-align:left;">已支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">labeltap</td><td style="text-align:left;">点击label时触发</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android支持iOS不支持</td></tr><tr><td style="text-align:left;">poitap</td><td style="text-align:left;">点击地图poi点时触发</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android不支持 iOS支持</td></tr></tbody></table><h3 id="marker" tabindex="-1">marker <a class="header-anchor" href="#marker" aria-label="Permalink to &quot;marker&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">高德是否支持</th><th style="text-align:left;">google地图是否支持</th></tr></thead><tbody><tr><td style="text-align:left;">label</td><td style="text-align:left;">为标记点旁边增加标签</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android支持 iOS不支持</td></tr></tbody></table><h3 id="marker-上的气泡-callout" tabindex="-1">marker 上的气泡 callout <a class="header-anchor" href="#marker-上的气泡-callout" aria-label="Permalink to &quot;marker 上的气泡 callout&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">高德是否支持</th><th style="text-align:left;">google地图是否支持</th></tr></thead><tbody><tr><td style="text-align:left;">display</td><td style="text-align:left;">&#39;BYCLICK&#39;:点击显示; &#39;ALWAYS&#39;:常显</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android支持iOS只支持 &#39;BYCLICK&#39;</td></tr></tbody></table><h3 id="marker-上的自定义气泡-customcallout" tabindex="-1">marker 上的自定义气泡 customCallout <a class="header-anchor" href="#marker-上的自定义气泡-customcallout" aria-label="Permalink to &quot;marker 上的自定义气泡 customCallout&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">高德是否支持</th><th style="text-align:left;">google地图是否支持</th></tr></thead><tbody><tr><td style="text-align:left;">display</td><td style="text-align:left;">&#39;BYCLICK&#39;:点击显示; &#39;ALWAYS&#39;:常显</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android支持iOS只支持 &#39;BYCLICK&#39;</td></tr></tbody></table><h3 id="polyline" tabindex="-1">polyline <a class="header-anchor" href="#polyline" aria-label="Permalink to &quot;polyline&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">高德是否支持</th><th style="text-align:left;">google地图是否支持</th></tr></thead><tbody><tr><td style="text-align:left;">colorList</td><td style="text-align:left;">彩虹线</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android不支持 iOS支持</td></tr><tr><td style="text-align:left;">dottedLine</td><td style="text-align:left;">是否虚线</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android已支持 iOS不支持</td></tr><tr><td style="text-align:left;">arrowLine</td><td style="text-align:left;">带箭头的线</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android不支持 iOS支持</td></tr><tr><td style="text-align:left;">arrowIconPath</td><td style="text-align:left;">更换箭头图标</td><td style="text-align:left;">已支持</td><td style="text-align:left;">Android不支持 iOS支持</td></tr></tbody></table><p><strong>map 组件相关操作的 JS API</strong>：<a href="./api/location/map.html?id=createmapcontext">uni.createMapContext</a></p><p>nvue map 更换箭头图标格式参考: <a href="https://ask.dcloud.net.cn/article/37901" target="_blank" rel="noreferrer">https://ask.dcloud.net.cn/article/37901</a></p><p><strong>注意事项</strong></p><ul><li>小程序和app-vue中，<code>&lt;map&gt;</code> 组件是由引擎创建的原生组件，它的层级是最高的，不能通过 z-index 控制层级。在<code>&lt;map&gt;</code>上绘制内容，可使用组件自带的<code>marker、controls</code>等属性，也可以使用<code>&lt;cover-view&gt;</code>组件。App端还可以使用plus.nativeObj.view 或 subNVue 绘制原生内容，<a href="/leo-docs/component/native-component.html">参考</a>。另外App端nvue文件不存在层级问题。从微信基础库2.8.3开始，支持map组件的同层渲染，不再有层级问题。</li><li>微信小程序端 <code>controls</code> 属性即将废弃，<a href="https://developers.weixin.qq.com/miniprogram/dev/component/map.html" target="_blank" rel="noreferrer">详情</a>。如果所用基础库支持同层渲染，则可以直接使用 <code>&lt;view&gt;</code> 组件，否则使用<code>&lt;cover-view&gt;</code>组件</li><li>App端nvue文件的map和小程序拉齐度更高。vue里的map则与plus.map功能一致，和小程序的地图略有差异。<strong>App端使用map推荐使用nvue。</strong></li><li>App端使用到本地图像的话，打包前需要设置资源为释放模式，在manifest文件内app-plus新增runmode节点，设置值为liberate。</li><li>在涉及层级问题的小程序中和app-vue中，请勿在 scroll-view、swiper、picker-view、movable-view 中使用 <code>&lt;map&gt;</code> 组件。</li><li>小程序和 app-vue 中，css 动画对 <code>&lt;map&gt;</code> 组件无效。</li><li>map 组件使用的经纬度是国测局坐标，调用 uni.getLocation 接口需要指定 type 为 gcj02。</li><li><code>&lt;map&gt;</code> 组件在不同平台的底层引擎是不同的：微信小程序为腾讯地图；H5为腾讯地图或谷歌地图或高德地图；App、支付宝（中国大陆地区版本）小程序为高德地图；百度小程序、快应用为百度地图。app-vue也可以使用百度地图，在manifest中配置，打包后生效，但app-nvue只支持高德地图。另外选择地图、查看地图位置的API也仅支持高德地图。App端如无特殊必要，建议使用高德地图。</li><li>map 组件默认的api是参考微信小程序的，如需要使用plus.map，可以通过<code>$getAppMap</code>获取原生地图对象，<a href="/leo-docs/api/location/map.html">详见</a>。注意nvue的map组件不是plus.map对象，无法使用<code>$getAppMap</code></li><li>H5 端获取定位信息，需要部署在 <strong>https</strong> 服务上，本地预览（localhost）仍然可以使用 http 协议。</li><li>无GPS模块或GPS无信号的 PC 设备使用 Chrome 浏览器的时候，位置信息是连接谷歌服务器获取的，国内用户可能获取位置信息失败。</li><li>App 端使用地图组件需要<strong>向高德或百度等三方服务商申请SDK资质，获取AppKey，打包时需要在manifest文件中勾选相应模块，在SDK配置中填写Appkey。注意申请包名和打包时的包名需匹配一致，证书信息匹配</strong>。在manifest可视化界面有详细申请指南。</li><li>H5 端使用地图和定位相关，需要在 <a href="/leo-docs/collocation/manifest.html?id=h5sdkconfig">manifest.json</a> 内配置腾讯或谷歌等三方地图服务商申请的秘钥（key）。高德地图需要额外配置 securityJsCode 或 serviceHost，具体参考<a href="https://lbs.amap.com/api/jsapi-v2/guide/abc/prepare" target="_blank" rel="noreferrer">高德地图文档</a>。</li><li>ios nvue Color 不支持 ARGB 十六进制，使用 rgba(r,g,b,a) 代替</li><li>注意位置坐标系转换，有全球gps标准、国标、百度私标，如果定位是用的一个标准，地图是另一个标准，那呈现在地图上就会有位移偏差。一般推荐统一使用国标gcj02。</li></ul><h5 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h5><p>Q：应用中使用了 <code>&lt;map&gt;</code> 组件，打包为App时，提示缺少权限模块怎么办？</p><p>A：App端原生地图，依赖第三方的 SDK，因此打包移动应用时，需要在manifest中勾选相关的权限并填写 key 信息，<a href="https://uniapp.dcloud.net.cn/tutorial/app-maps.html#" target="_blank" rel="noreferrer">详见</a>。</p><p>Q：国外应用想使用谷歌地图/google地图怎么办？</p><p>A: App 3.4+ 已支持 Google 地图， App 3.4 以下版本使用下面的方案</p><ol><li>在web-view下调用谷歌的web地图</li><li>写一个原生插件封装谷歌原生地图，具体参考uni-app插件市场的原生插件开发教程。插件市场已有三方写好的<a href="https://ext.dcloud.net.cn/search?q=%E8%B0%B7%E6%AD%8C%E5%9C%B0%E5%9B%BE" target="_blank" rel="noreferrer">地图插件</a>。</li></ol><h3 id="三方定位和地图服务收费说明" tabindex="-1">三方定位和地图服务收费说明 <a class="header-anchor" href="#三方定位和地图服务收费说明" aria-label="Permalink to &quot;三方定位和地图服务收费说明&quot;">​</a></h3><p>使用三方定位或者地图服务，需向服务提供商（如：高德地图、百度地图、腾讯地图、谷歌地图）申请商业授权和缴纳费用（5万/年）。</p><p>DCloud为开发者争取了福利，可优惠获取高德的商业授权。如有需求请发邮件到<code>bd@dcloud.io</code>（注明你的公司名称、应用介绍、HBuilder账户）；你也可以直接通过<code>uni-im</code>发起在线咨询，在线咨询地址：<a href="https://im.dcloud.net.cn/#/?user_id=b9839630-a479-11ea-b772-0f6ad6cf835c" target="_blank" rel="noreferrer">DCloud地图服务专员</a>。</p><p>详见：<a href="https://uniapp.dcloud.net.cn/tutorial/app-geolocation.html#lic" target="_blank" rel="noreferrer">https://uniapp.dcloud.net.cn/tutorial/app-geolocation.html#lic</a></p>`,63),o=[i,r,y];function p(g,f,x,c,h,u){return s(),n("div",null,o)}const m=a(d,[["render",p]]);export{D as __pageData,m as default};
