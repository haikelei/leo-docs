import{_ as t,c as e,o as l,N as s}from"./chunks/framework.fc67cb9d.js";const x=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/location/location.md","lastUpdated":1685603474000}'),a={name:"api/location/location.md"},n=s(`<h3 id="uni-getlocation-object" tabindex="-1">uni.getLocation(OBJECT) <a class="header-anchor" href="#uni-getlocation-object" aria-label="Permalink to &quot;uni.getLocation(OBJECT)&quot;">​</a></h3><p>获取当前的地理位置、速度。</p><p><strong>OBJECT 参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th><th style="text-align:center;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为 wgs84 返回 gps 坐标，gcj02 返回国测局坐标，可用于 <code>uni.openLocation</code> 和 map 组件坐标，App 和 H5 需配置定位 SDK 信息才可支持 gcj02。</td><td style="text-align:center;"></td></tr><tr><td style="text-align:left;">altitude</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">否</td><td style="text-align:left;">传入 true 会返回高度信息，由于获取高度需要较高精确度，会减慢接口返回速度</td><td style="text-align:center;">字节跳动小程序、飞书小程序、支付宝小程序不支持</td></tr><tr><td style="text-align:left;">geocode</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">否</td><td style="text-align:left;">默认false，是否解析地址信息</td><td style="text-align:center;">仅App平台支持（安卓需指定 type 为 gcj02 并配置三方定位SDK）</td></tr><tr><td style="text-align:left;">highAccuracyExpireTime</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">高精度定位超时时间(ms)，指定时间内返回最高精度，该值3000ms以上高精度定位才有效果</td><td style="text-align:center;">App (3.2.11+)、H5 (3.2.11+)、微信小程序 (基础库 2.9.0+)</td></tr><tr><td style="text-align:left;">timeout</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为 5，定位超时时间，单位秒</td><td style="text-align:center;">仅飞书小程序支持</td></tr><tr><td style="text-align:left;">cacheTimeout</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">定位缓存超时时间，单位秒；每次定位缓存当前定位数据，并记下时间戳，当下次调用在cacheTimeout之内时，返回缓存数据</td><td style="text-align:center;">仅飞书小程序、支付宝小程序支持</td></tr><tr><td style="text-align:left;">accuracy</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">默认为 high，指定期望精度，支持 high，best。当指定 high 时，期望精度值为100m，当指定 best 时期望精度值为20m。当定位得到的精度不符合条件时，在timeout之前会继续定位，尝试拿到符合要求的定位结果</td><td style="text-align:center;">仅飞书小程序支持</td></tr><tr><td style="text-align:left;">isHighAccuracy</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">否</td><td style="text-align:left;">开启高精度定位</td><td style="text-align:center;">App (3.4.0+)、H5 (3.4.0+)、微信小程序 (基础库 2.9.0+)</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">是</td><td style="text-align:left;">接口调用成功的回调函数，返回内容详见返回参数说明。</td><td style="text-align:center;"></td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td><td style="text-align:center;"></td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td><td style="text-align:center;"> </td></tr></tbody></table><p><strong>success 返回参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">纬度，浮点数，范围为-90~90，负数表示南纬</td></tr><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">经度，浮点数，范围为-180~180，负数表示西经</td></tr><tr><td style="text-align:left;">speed</td><td style="text-align:left;">速度，浮点数，单位m/s</td></tr><tr><td style="text-align:left;">accuracy</td><td style="text-align:left;">位置的精确度</td></tr><tr><td style="text-align:left;">altitude</td><td style="text-align:left;">高度，单位 m</td></tr><tr><td style="text-align:left;">verticalAccuracy</td><td style="text-align:left;">垂直精度，单位 m（Android 无法获取，返回 0）</td></tr><tr><td style="text-align:left;">horizontalAccuracy</td><td style="text-align:left;">水平精度，单位 m</td></tr><tr><td style="text-align:left;"><a href="/leo-docs/api/location/location.html?id=address">address</a></td><td style="text-align:left;">地址信息（仅App端支持，需配置geocode为true）</td></tr></tbody></table><p><strong>address 地址信息说明</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">country</td><td style="text-align:left;">String</td><td style="text-align:left;">国家</td><td style="text-align:left;">如“中国”，如果无法获取此信息则返回undefined</td></tr><tr><td style="text-align:left;">province</td><td style="text-align:left;">String</td><td style="text-align:left;">省份名称</td><td style="text-align:left;">如“北京市”，如果无法获取此信息则返回undefined</td></tr><tr><td style="text-align:left;">city</td><td style="text-align:left;">String</td><td style="text-align:left;">城市名称</td><td style="text-align:left;">如“北京市”，如果无法获取此信息则返回undefined</td></tr><tr><td style="text-align:left;">district</td><td style="text-align:left;">String</td><td style="text-align:left;">区（县）名称</td><td style="text-align:left;">如“朝阳区”，如果无法获取此信息则返回undefined</td></tr><tr><td style="text-align:left;">street</td><td style="text-align:left;">String</td><td style="text-align:left;">街道信息</td><td style="text-align:left;">如“酒仙桥路”，如果无法获取此信息则返回undefined</td></tr><tr><td style="text-align:left;">streetNum</td><td style="text-align:left;">String</td><td style="text-align:left;">获取街道门牌号信息</td><td style="text-align:left;">如“3号”，如果无法获取此信息则返回undefined</td></tr><tr><td style="text-align:left;">poiName</td><td style="text-align:left;">String</td><td style="text-align:left;">POI信息</td><td style="text-align:left;">如“电子城．国际电子总部”，如果无法获取此信息则返回undefined</td></tr><tr><td style="text-align:left;">postalCode</td><td style="text-align:left;">String</td><td style="text-align:left;">邮政编码</td><td style="text-align:left;">如“100016”，如果无法获取此信息则返回undefined</td></tr><tr><td style="text-align:left;">cityCode</td><td style="text-align:left;">String</td><td style="text-align:left;">城市代码</td><td style="text-align:left;">如“010”，如果无法获取此信息则返回undefined</td></tr></tbody></table><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getLocation</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wgs84</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#82AAFF;">success</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">当前位置的经度：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">longitude</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">当前位置的纬度：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">latitude</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h4 id="注意" tabindex="-1">注意 <a class="header-anchor" href="#注意" aria-label="Permalink to &quot;注意&quot;">​</a></h4><ul><li><code>H5 平台</code><ul><li>在较新的浏览器上，H5 端获取定位信息，要求部署在 <strong>https</strong> 服务上，本地预览（localhost）仍然可以使用 http 协议。</li><li>国产安卓手机上，H5若无法定位，检查手机是否开通位置服务、GPS，ROM是否给该浏览器位置权限、浏览器是否对网页弹出请求给予定位的询问框。</li><li><code>安卓手机</code> 在原生App内嵌H5时，无法定位需要原生App处理Webview。</li><li><code>移动端浏览器</code> 普遍仅支持GPS定位，在GPS信号弱的地方可能定位失败。</li><li><code>PC 设备</code> 使用 Chrome 浏览器的时候，位置信息是连接谷歌服务器获取的，国内用户可能获取位置信息失败。</li><li>微信公众号可使用微信js sdk，<a href="https://ask.dcloud.net.cn/article/35380" target="_blank" rel="noreferrer">详见</a></li><li><code>2.9.9 版本以上</code>，优化 uni.getLocation 支持通过 IP 定位。默认通过 GPS 获取，如果获取失败，备选方案是通过 IP 定位获取，需填写三方地图服务平台的秘钥（key）。key配置：manifest.json ---&gt; H5配置 ---&gt; 定位和地图 ---&gt; key。</li></ul></li><li><code>App 平台</code><ul><li>Android由于谷歌服务被墙，或者手机上没有GMS，想正常定位就需要向高德等三方服务商申请SDK资质，获取AppKey。否则打包后定位就会不准。云打包时需要在manifest的SDK配置中填写 Appkey。在 manifest 可视化界面有详细申请指南，详见：<a href="https://ask.dcloud.net.cn/article/29" target="_blank" rel="noreferrer">https://ask.dcloud.net.cn/article/29</a>。离线打包自行在原生工程中配置。注意<strong>包名、appkey、证书信息</strong>必须匹配。真机运行可以正常定位，是因为真机运行基座使用了DCloud向高德申请的sdk配置，打包后必须由开发者自己申请。如果手机自带GMS且网络环境可以正常访问google定位服务器，此时无需在 manifest 填写高德定位的 sdk 配置。</li><li>注意手机自身要开启定位、同时要给App赋予定位权限。权限判断可参考：<a href="https://uniapp.dcloud.net.cn/api/system/getappauthorizesetting.html" target="_blank" rel="noreferrer">https://uniapp.dcloud.net.cn/api/system/getappauthorizesetting.html</a></li><li><code>&lt;map&gt;</code> 组件默认为国测局坐标 gcj02，调用 <code>uni.getLocation</code> 返回结果传递给 <code>&lt;map&gt;</code> 组件时，需指定 type 为 gcj02。</li><li>定位 和 map 是两个东西。通过 <code>getLocation</code> 得到位置坐标后，可以在任意map地图上展示，比如定位使用高德，地图使用 google 的 webview 版地图。如果坐标系不同时，注意转换坐标系。</li><li>如果使用 <code>web-view</code> 加载地图，无需在manifest里配地图的sdk配置。</li><li>持续定位方案：iOS端可以申请持续定位权限，<a href="https://ask.dcloud.net.cn/article/12569" target="_blank" rel="noreferrer">参考</a>。Android如果进程被杀，代码无法执行，可以在插件市场搜索<a href="https://ext.dcloud.net.cn/search?q=%E4%BF%9D%E6%B4%BB&amp;cat1=5" target="_blank" rel="noreferrer">保活</a>相关原生语言插件避免App被系统杀死。即使使用了原生语言插件保活，也很容易被杀，此时可以使用<a href="https://uniapp.dcloud.net.cn/unipush-v2.html" target="_blank" rel="noreferrer">unipush</a> ，通过推送消息提示用户激活App</li><li><code>3.3.0 版本以上</code> 优化系统定位模块，可不使用三方定位SDK的进行高精度定位，具体参考：<a href="./app/geolocation.html">系统定位</a>。</li><li>鸿蒙系统 不支持系统定位，需要配置三方sdk，比如高德，同时设置坐标系参数为 <code>type: &#39;gcj02&#39;</code></li></ul></li><li><code>小程序平台</code><ul><li>api默认不返回详细地址中文描述。需要中文地址有2种方式：1、使用高德地图小程序sdk，在app和微信上都可以获得中文地址，<a href="http://ask.dcloud.net.cn/article/35070" target="_blank" rel="noreferrer">参考</a>。2、只考虑app，使用<code>plus.geolocation</code>也可以获取中文地址。manifest里的App SDK配置仅用于app，小程序无需在这里配置。</li><li>可以通过用户授权API来判断用户是否给应用授予定位权限，<a href="https://uniapp.dcloud.io/api/other/authorize" target="_blank" rel="noreferrer">详见</a></li><li>在 <code>微信小程序</code> 中，当用户离开应用后，此接口无法调用，需要申请 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/authorize.html" target="_blank" rel="noreferrer">后台持续定位权限</a> ，另外新版本中需要使用 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.onLocationChange.html" target="_blank" rel="noreferrer">wx.onLocationChange</a> 监听位置信息变化；当用户点击“显示在聊天顶部”时，此接口可继续调用。</li></ul></li></ul><h3 id="uni-chooselocation-object" tabindex="-1">uni.chooseLocation(OBJECT) <a class="header-anchor" href="#uni-chooselocation-object" aria-label="Permalink to &quot;uni.chooseLocation(OBJECT)&quot;">​</a></h3><p>打开地图选择位置。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td></tr></tbody></table><p><strong>OBJECT 参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">目标地纬度</td><td style="text-align:left;">微信小程序（2.9.0+）、H5-Vue3（3.2.10+）</td></tr><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">目标地经度</td><td style="text-align:left;">微信小程序（2.9.0+）、H5-Vue3（3.2.10+）</td></tr><tr><td style="text-align:left;">keyword</td><td style="text-align:left;">String</td><td style="text-align:left;">否</td><td style="text-align:left;">搜索关键字，仅App平台支持</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">是</td><td style="text-align:left;">接口调用成功的回调函数，返回内容详见返回参数说明。</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数（获取定位失败、用户取消等情况下触发）</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td><td style="text-align:left;"></td></tr></tbody></table><p><strong>注意</strong></p><ul><li>因平台差异，如果SDK配置百度地图，需要设置 keyword，才能显示相关地点</li><li><a href="/leo-docs/collocation/manifest.html#app-plus">非 weex 编译模式</a>不支持百度地图</li></ul><p><strong>success 返回参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">name</td><td style="text-align:left;">位置名称</td></tr><tr><td style="text-align:left;">address</td><td style="text-align:left;">详细地址</td></tr><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">纬度，浮点数，范围为-90~90，负数表示南纬，使用 gcj02 国测局坐标系。</td></tr><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">经度，浮点数，范围为-180~180，负数表示西经，使用 gcj02 国测局坐标系。</td></tr></tbody></table><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">chooseLocation</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#82AAFF;">success</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">位置名称：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">详细地址：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">address</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">纬度：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">latitude</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">经度：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">longitude</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p><strong>注意</strong></p><ul><li>不同端，使用地图选择时基于的底层地图引擎不一样，详见地图<a href="/leo-docs/component/map.html">map</a>组件的地图服务商支持。 <ul><li><code>app</code> 中也可以使用百度定位，在 manifest 中配置，打包后生效。</li><li><code>app-nvue</code> 里只能用高德定位和Google地图(3.4+)，不能用百度地图。另外选择地图、查看地图位置的API也仅支持高德地图和Google地图(3.4+)。所以App端如无特殊必要，建议使用高德地图。</li></ul></li><li><code>H5 端</code> 使用地图和定位相关，需要在 <a href="/leo-docs/collocation/manifest.html?id=h5sdkconfig">manifest.json</a> 内配置腾讯或谷歌等三方地图服务商申请的秘钥（key）。</li><li><code>微信内置浏览器</code> 中可使用微信js sdk，<a href="https://ask.dcloud.net.cn/article/35380" target="_blank" rel="noreferrer">详见</a></li><li>chooseLocation 属于封装型API，开发者若觉得不够灵活，可自行基于原始的 map 组件进行封装。插件市场已经有各种封装样例了。</li><li>若 <code>Android App端</code> 位置不准，见上文 uni.getLocation 的注意事项</li></ul><h3 id="三方定位和地图服务收费说明" tabindex="-1">三方定位和地图服务收费说明 <a class="header-anchor" href="#三方定位和地图服务收费说明" aria-label="Permalink to &quot;三方定位和地图服务收费说明&quot;">​</a></h3><p>使用三方定位或者地图服务，需向服务提供商（如：高德地图、百度地图、腾讯地图、谷歌地图）申请商业授权和缴纳费用（5万/年）。</p><p>DCloud为开发者争取了福利，可优惠获取高德的商业授权。如有需求请发邮件到<code>bd@dcloud.io</code>（注明你的公司名称、应用介绍、HBuilder账户）；你也可以直接通过<code>uni-im</code>发起在线咨询，在线咨询地址：<a href="https://im.dcloud.net.cn/#/?user_id=b9839630-a479-11ea-b772-0f6ad6cf835c" target="_blank" rel="noreferrer">DCloud地图服务专员</a>。</p><p>详见：<a href="https://uniapp.dcloud.net.cn/tutorial/app-geolocation.html#lic" target="_blank" rel="noreferrer">https://uniapp.dcloud.net.cn/tutorial/app-geolocation.html#lic</a></p>`,30),o=[n];function d(p,r,i,c,y,g){return l(),e("div",null,o)}const h=t(a,[["render",d]]);export{x as __pageData,h as default};
