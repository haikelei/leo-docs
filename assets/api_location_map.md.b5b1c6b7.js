import{_ as t,c as l,o as e,N as s}from"./chunks/framework.fc67cb9d.js";const x=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/location/map.md","lastUpdated":1685603474000}'),a={name:"api/location/map.md"},n=s(`<h3 id="uni-createmapcontext-mapid-this" tabindex="-1">uni.createMapContext(mapId,this) <a class="header-anchor" href="#uni-createmapcontext-mapid-this" aria-label="Permalink to &quot;uni.createMapContext(mapId,this)&quot;">​</a></h3><p>创建并返回 map 上下文 <code>mapContext</code> 对象。在自定义组件下，第二个参数传入组件实例this，以操作组件内 <code>&lt;map&gt;</code> 组件。</p><p><strong>注意：uni.createMapContext(mapId, this)</strong></p><ul><li>app-nvue 平台 2.2.5+ 支持 uni.createMapContext(mapId, this)</li><li>app-nvue 平台 2.2.5- 需要同时设置组件属性id和ref <code>&lt;map id=&quot;map1&quot; ref=&quot;map1&quot;&gt;&lt;/map&gt;</code>，或者直接使用 ref，例如 <code>this.$refs.map1</code></li></ul><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">1.9.0+</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><p>mapContext</p><p><code>mapContext</code> 通过 mapId 跟一个 <code>&lt;map&gt;</code> 组件绑定，通过它可以操作对应的 <code>&lt;map&gt;</code> 组件。</p><p><strong>mapContext 对象的方法列表</strong></p><table><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">getCenterLocation</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">获取当前地图中心的经纬度，返回的是 gcj02 坐标系，可以用于 <a href="./api/location/location.html?id=getlocation">uni.openLocation</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">moveToLocation</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">将地图中心移动到当前定位点，需要配合map组件的show-location使用</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">translateMarker</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">平移marker，带动画</td><td style="text-align:left;">app-nvue 2.1.5+、微信小程序带动画、字节、支付宝、京东、百度、QQ小程序</td></tr><tr><td style="text-align:left;">includePoints</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">缩放视野展示所有经纬度</td><td style="text-align:left;">app-nvue 2.1.5+、微信、字节、支付宝、京东、百度、快手、QQ小程序</td></tr><tr><td style="text-align:left;">getRegion</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">获取当前地图的视野范围</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">getRotate</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">获取当前地图的旋转角</td><td style="text-align:left;">微信、字节、支付宝、京东、QQ小程序</td></tr><tr><td style="text-align:left;">getScale</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">获取当前地图的缩放级别</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">getSkew</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">获取当前地图的倾斜角</td><td style="text-align:left;">微信、字节、支付宝、京东、QQ小程序</td></tr><tr><td style="text-align:left;">addCustomLayer</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">添加个性化图层</td><td style="text-align:left;">微信小程序</td></tr><tr><td style="text-align:left;">addGroundOverlay</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">创建自定义图片图层，图片会随着地图缩放而缩放</td><td style="text-align:left;">App-nvue 3.1.0+，微信、字节小程序</td></tr><tr><td style="text-align:left;">addMarkers</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">添加 marker</td><td style="text-align:left;">App-nvue 3.1.0+，微信小程序</td></tr><tr><td style="text-align:left;">fromScreenLocation</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">获取屏幕上的点对应的经纬度，坐标原点为地图左上角</td><td style="text-align:left;">微信小程序</td></tr><tr><td style="text-align:left;">initMarkerCluster</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">初始化点聚合的配置，未调用时采用默认配置</td><td style="text-align:left;">App-nvue 3.1.0+，微信小程序</td></tr><tr><td style="text-align:left;">moveAlong</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">沿指定路径移动 marker，用于轨迹回放等场景。动画完成时触发回调事件，若动画进行中，对同一 marker 再次调用 moveAlong 方法，前一次的动画将被打断。支持 android，不支持 autoRotate 属性设置，默认为 ture</td><td style="text-align:left;">App-nvue 3.1.0+，微信、字节小程序</td></tr><tr><td style="text-align:left;">openMapApp</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">拉起地图APP选择导航。</td><td style="text-align:left;">App-nvue 3.1.0+，微信、字节、快手小程序</td></tr><tr><td style="text-align:left;">removeCustomLayer</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">移除个性化图层</td><td style="text-align:left;">微信小程序</td></tr><tr><td style="text-align:left;">removeGroundOverlay</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">移除自定义图片图层</td><td style="text-align:left;">App-nvue 3.1.0+，微信小程序</td></tr><tr><td style="text-align:left;">removeMarkers</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">移除 marker。</td><td style="text-align:left;">App-nvue 3.1.0+，微信小程序</td></tr><tr><td style="text-align:left;">setCenterOffset</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">设置地图中心点偏移，向后向下为增长，屏幕比例范围(0.25~0.75)，默认偏移为[0.5, 0.5]</td><td style="text-align:left;">微信、字节小程序</td></tr><tr><td style="text-align:left;">toScreenLocation</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">获取经纬度对应的屏幕坐标，坐标原点为地图左上角。</td><td style="text-align:left;">微信小程序</td></tr><tr><td style="text-align:left;">updateGroundOverlay</td><td style="text-align:left;">OBJECT</td><td style="text-align:left;">更新自定义图片图层。</td><td style="text-align:left;">App-nvue 3.1.0+，微信、字节小程序</td></tr><tr><td style="text-align:left;">on</td><td style="text-align:left;">Method</td><td style="text-align:left;">监听地图事件。</td><td style="text-align:left;">App-nvue 3.1.0+，微信小程序</td></tr><tr><td style="text-align:left;">$getAppMap</td><td style="text-align:left;"></td><td style="text-align:left;">获取原生地图对象 <a href="https://www.html5plus.org/doc/zh_cn/maps.html#plus.maps.Map" target="_blank" rel="noreferrer">plus.maps.Map</a></td><td style="text-align:left;">App-nvue 1.9.3</td></tr></tbody></table><p><code>$getAppMap()</code> 注意事项：</p><ul><li>在页面中，必须在 <code>onReady</code> 中调用。</li><li>在组件中，必须在 <code>mounted</code> 中调用。</li><li>nvue没有<code>$getAppMap()</code>，请使用<code>createMapContext</code></li><li><code>uni-app</code>中使用原生地图无需提供占位div，得到<code>$getAppMap()</code>后直接js使用即可。</li><li><code>openMapApp</code> iOS 暂不支持，后续补充</li></ul><p><strong>getCenterLocation 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数 ，<code>res = { longitude: &quot;经度&quot;, latitude: &quot;纬度&quot;}</code></td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>moveToLocation 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">经度 ，App 2.6.8、H5、京东小程序、仅微信小程序 2.8.0+ 支持</td></tr><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">纬度 ，App 2.6.8、H5、京东小程序、仅微信小程序 2.8.0+ 支持</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数 ，<code>res = { longitude: &quot;经度&quot;, latitude: &quot;纬度&quot;}</code></td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>translateMarker 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">markerId</td><td style="text-align:left;">Number</td><td style="text-align:left;">是</td><td style="text-align:left;">指定 marker</td></tr><tr><td style="text-align:left;">destination</td><td style="text-align:left;">Object</td><td style="text-align:left;">是</td><td style="text-align:left;">指定 marker 移动到的目标点</td></tr><tr><td style="text-align:left;">autoRotate</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">是</td><td style="text-align:left;">移动过程中是否自动旋转 marker</td></tr><tr><td style="text-align:left;">rotate</td><td style="text-align:left;">Number</td><td style="text-align:left;">是</td><td style="text-align:left;">marker 的旋转角度</td></tr><tr><td style="text-align:left;">moveWithRotate</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">否</td><td style="text-align:left;">平移和旋转同时进行，默认值false（仅微信小程序2.13.0支持）</td></tr><tr><td style="text-align:left;">duration</td><td style="text-align:left;">Number</td><td style="text-align:left;">否</td><td style="text-align:left;">动画持续时长，默认值1000ms，平移与旋转分别计算</td></tr><tr><td style="text-align:left;">animationEnd</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">动画结束回调函数</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>includePoints 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">points</td><td style="text-align:left;">Array</td><td style="text-align:left;">是</td><td style="text-align:left;">要显示在可视区域内的坐标点列表，<code>[{latitude, longitude}]</code></td></tr><tr><td style="text-align:left;">padding</td><td style="text-align:left;">Array</td><td style="text-align:left;">否</td><td style="text-align:left;">坐标点形成的矩形边缘到地图边缘的距离，单位像素。格式为[上，右，下，左]，安卓上只能识别数组第一项，上下左右的padding一致。开发者工具暂不支持padding参数。</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数（支付宝小程序不支持）</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数（支付宝小程序不支持）</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）（支付宝小程序不支持）</td></tr></tbody></table><p><strong>getRegion 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数，res = {southwest, northeast}，西南角与东北角的经纬度</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数（支付宝小程序不支持）</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）（支付宝小程序不支持）</td></tr></tbody></table><p><strong>getRotate 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数，res = {rotate}，旋转角</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数（支付宝小程序不支持）</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）（支付宝小程序不支持）</td></tr></tbody></table><p><strong>getScale 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数，res = {scale}，缩放值</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数（支付宝小程序不支持）</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）（支付宝小程序不支持）</td></tr></tbody></table><p><strong>getSkew 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">success</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数，res = {skew}，倾斜角</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数（支付宝小程序不支持）</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">Function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）（支付宝小程序不支持）</td></tr></tbody></table><p><strong>addCustomLayer 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">layerId</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">个性化图层id</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>addGroundOverlay 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">id</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">图片图层 id</td></tr><tr><td style="text-align:left;">src</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">图片路径，支持网络图片、临时路径、代码包路径</td></tr><tr><td style="text-align:left;">bounds</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">图片覆盖的经纬度范围</td></tr><tr><td style="text-align:left;">visible</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">否</td><td style="text-align:left;">是否可见</td></tr><tr><td style="text-align:left;">zIndex</td><td style="text-align:left;">Number</td><td style="text-align:left;">1</td><td style="text-align:left;">否</td><td style="text-align:left;">图层绘制顺序</td></tr><tr><td style="text-align:left;">opacity</td><td style="text-align:left;">Number</td><td style="text-align:left;">1</td><td style="text-align:left;">否</td><td style="text-align:left;">图层透明度</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><code>object.bounds</code> 的结构</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">southwest</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">西南角经纬度</td></tr><tr><td style="text-align:left;">northeast</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">东北角经纬度</td></tr></tbody></table><p><code>southwest</code> 的结构</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">number</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">经度</td></tr><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">number</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">纬度</td></tr></tbody></table><p><code>northeast</code> 的结构</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">number</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">经度</td></tr><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">number</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">纬度</td></tr></tbody></table><p><strong>addMarkers 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">markers</td><td style="text-align:left;">Array</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">同传入 map 组件的 marker 属性</td></tr><tr><td style="text-align:left;">clear</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">否</td><td style="text-align:left;">是否先清空地图上所有 marker</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>removeMarkers 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">markerIds</td><td style="text-align:left;">Array</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">要被删除的marker的id属性组成的数组</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>moveAlong 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">markerId</td><td style="text-align:left;">Number</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">指定 marker</td></tr><tr><td style="text-align:left;">path</td><td style="text-align:left;">Array</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">移动路径的坐标串，坐标点格式 <code>{longitude, latitude}</code></td></tr><tr><td style="text-align:left;">autoRotate</td><td style="text-align:left;">boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">否</td><td style="text-align:left;">根据路径方向自动改变 marker 的旋转角度</td></tr><tr><td style="text-align:left;">duration</td><td style="text-align:left;">number</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">平滑移动的时间</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>openMapApp 的 OBJECT 参数列表</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">longitude</td><td style="text-align:left;">Number</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">目的地经度</td></tr><tr><td style="text-align:left;">latitude</td><td style="text-align:left;">Number</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">目的地纬度</td></tr><tr><td style="text-align:left;">destination</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">目的地名称</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>setLocMarkerIcon 的 OBJECT 参数列表</strong>@setLocMarkerIcon</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">iconPath</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">图标路径，支持网络路径、本地路径、代码包路径</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p>App nvue 3.6.9+ 支持</p><p><strong>mapContext （App平台地图服务商差异）</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th><th style="text-align:left;">高德是否支持</th><th style="text-align:left;">google地图是否支持</th></tr></thead><tbody><tr><td style="text-align:left;">setLocMarkerIcon</td><td style="text-align:left;">设置定位点图标，支持网络路径、本地路径、代码包路径</td><td style="text-align:left;">已支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">moveAlong</td><td style="text-align:left;">沿指定路径移动 marker，用于轨迹回放等场景</td><td style="text-align:left;">已支持(不支持autoRotate属性)</td><td style="text-align:left;">已支持</td></tr><tr><td style="text-align:left;">addCustomLayer</td><td style="text-align:left;">添加个性化图层</td><td style="text-align:left;">不支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">removeVisualLayer</td><td style="text-align:left;">移除可视化图层</td><td style="text-align:left;">不支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">fromScreenLocation</td><td style="text-align:left;">获取屏幕上的点对应的经纬度，坐标原点为地图左上角</td><td style="text-align:left;">不支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">removeCustomLayer</td><td style="text-align:left;">移除个性化图层</td><td style="text-align:left;">不支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">setCenterOffset</td><td style="text-align:left;">设置地图中心点偏移，向后向下为增长，屏幕比例范围(0.25~0.75)</td><td style="text-align:left;">不支持</td><td style="text-align:left;">不支持</td></tr><tr><td style="text-align:left;">toScreenLocation</td><td style="text-align:left;">获取经纬度对应的屏幕坐标，坐标原点为地图左上角。</td><td style="text-align:left;">不支持</td><td style="text-align:left;">不支持</td></tr></tbody></table><p><strong>MapContext.on()</strong> (app-nvue、微信小程序支持)</p><p><code>markerClusterCreate</code> 缩放或拖动导致新的聚合簇产生时触发，仅返回新创建的聚合簇信息。</p><p>返回参数</p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">clusters</td><td style="text-align:left;">Array&amp;lt;ClusterInfo&amp;gt;</td><td style="text-align:left;">聚合簇数据</td></tr></tbody></table><p><code>markerClusterClick</code> 聚合簇的点击事件。</p><p>返回参数</p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">cluster</td><td style="text-align:left;">ClusterInfo</td><td style="text-align:left;">聚合簇</td></tr></tbody></table><p><code>ClusterInfo</code> 结构</p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">clusterId</td><td style="text-align:left;">Number</td><td style="text-align:left;">聚合簇的 id</td></tr><tr><td style="text-align:left;">center</td><td style="text-align:left;">LatLng</td><td style="text-align:left;">聚合簇的坐标</td></tr><tr><td style="text-align:left;">markerIds</td><td style="text-align:left;">Array&amp;lt;Number&amp;gt;</td><td style="text-align:left;">该聚合簇内的点标记数据数组</td></tr></tbody></table><p><code>initMarkerCluster(OBJECT)</code> 结构</p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">enableDefaultStyle</td><td style="text-align:left;">boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">否</td><td style="text-align:left;">启用默认的聚合样式</td></tr><tr><td style="text-align:left;">zoomOnClick</td><td style="text-align:left;">boolean</td><td style="text-align:left;">true</td><td style="text-align:left;">否</td><td style="text-align:left;">点击已经聚合的标记点时是否实现聚合分离</td></tr><tr><td style="text-align:left;">gridSize</td><td style="text-align:left;">boolean</td><td style="text-align:left;">60</td><td style="text-align:left;">否</td><td style="text-align:left;">聚合算法的可聚合距离，即距离小于该值的点会聚合至一起，以像素为单位</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p>示例代码</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">  MapContext</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">markerClusterCreate</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  MapContext</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">markerClusterClick</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>地图聚合 API 示例(nvue)</p><p>缩小地图可看到多个 marker 合并为 1 个并显示聚合数量，放大地图后恢复</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">content</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">map</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">map</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">map</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:show-location</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">true</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:latitude</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">latitude</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:longitude</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">longitude</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">map</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> img </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/static/logo.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        latitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">23.099994</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        longitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">113.324520</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onReady</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_mapContext</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createMapContext</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">map</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 仅调用初始化，才会触发 on.(&quot;markerClusterCreate&quot;, (e) =&gt; {})</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_mapContext</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">initMarkerCluster</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        enableDefaultStyle</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        zoomOnClick</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        gridSize</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">60</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        complete</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">initMarkerCluster</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_mapContext</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">markerClusterCreate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">markerClusterCreate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">addMarkers</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">methods</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">addMarkers</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">positions</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            latitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">23.099994</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            longitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">113.324520</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            latitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">23.099994</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            longitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">113.322520</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            latitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">23.099994</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            longitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">113.326520</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            latitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">23.096994</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            longitude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">113.329520</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        ]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">markers</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">positions</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">p</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">i</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">markers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assign</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{},{</span></span>
<span class="line"><span style="color:#F07178;">              id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">              iconPath</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">img</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">              width</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">50</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">              height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">50</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">              joinCluster</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 指定了该参数才会参与聚合</span></span>
<span class="line"><span style="color:#F07178;">              label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                  width</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">50</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                  height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                  borderWidth</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                  borderRadius</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                  bgColor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#ffffff</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                  content</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">label </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">i </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}\`</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;">p</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">          )</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_mapContext</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addMarkers</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">markers</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            clear</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            complete</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">addMarkers</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">content</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">flex</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">map</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">flex</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="mapsearch-模块-仅app-nvue支持-goolge地图不支持" tabindex="-1">mapSearch 模块(仅app-nvue支持，Goolge地图不支持) <a class="header-anchor" href="#mapsearch-模块-仅app-nvue支持-goolge地图不支持" aria-label="Permalink to &quot;mapSearch 模块(仅app-nvue支持，Goolge地图不支持)&quot;">​</a></h2><h4 id="reversegeocode-object-callback-reversegeocode" tabindex="-1">reverseGeocode(Object,callback);@reverseGeocode <a class="header-anchor" href="#reversegeocode-object-callback-reversegeocode" aria-label="Permalink to &quot;reverseGeocode(Object,callback);@reverseGeocode&quot;">​</a></h4><blockquote><p>反向地理编码</p></blockquote><h5 id="object" tabindex="-1">Object <a class="header-anchor" href="#object" aria-label="Permalink to &quot;Object&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">point</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;"><code>{latitude: 纬度, longitude: 经度}</code></td></tr></tbody></table><h5 id="callback-返回-object-参数说明" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr><tr><td style="text-align:left;">code</td><td style="text-align:left;">Number</td><td style="text-align:left;">成功返回 0,失败返回相应 code 码</td></tr><tr><td style="text-align:left;">message</td><td style="text-align:left;">String</td><td style="text-align:left;">失败描述</td></tr><tr><td style="text-align:left;">address</td><td style="text-align:left;">String</td><td style="text-align:left;">查询后地址 （成功时返回）</td></tr></tbody></table><h4 id="poisearchnearby-object-callback-poisearchnearby" tabindex="-1">poiSearchNearBy（Object,callback);@poiSearchNearBy <a class="header-anchor" href="#poisearchnearby-object-callback-poisearchnearby" aria-label="Permalink to &quot;poiSearchNearBy（Object,callback);@poiSearchNearBy&quot;">​</a></h4><blockquote><p>周边检索</p></blockquote><h5 id="object-1" tabindex="-1">Object <a class="header-anchor" href="#object-1" aria-label="Permalink to &quot;Object&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">point</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">检索的中心点坐标 <code>{latitude: 纬度, longitude: 经度}</code></td></tr><tr><td style="text-align:left;">key</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">搜索关键字</td></tr><tr><td style="text-align:left;">radius</td><td style="text-align:left;">Number</td><td style="text-align:left;">3000</td><td style="text-align:left;">否</td><td style="text-align:left;">检索的半径，单位为米</td></tr><tr><td style="text-align:left;">index</td><td style="text-align:left;">Number</td><td style="text-align:left;">1</td><td style="text-align:left;">否</td><td style="text-align:left;">要获取检索结果的页号索引</td></tr><tr><td style="text-align:left;">offset</td><td style="text-align:left;">Number</td><td style="text-align:left;">10</td><td style="text-align:left;">否</td><td style="text-align:left;">设置每页条目数（默认每页10条数据）。HBuilder 3.2.13+</td></tr></tbody></table><h5 id="callback-返回-object-参数说明-1" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-1" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr><tr><td style="text-align:left;">code</td><td style="text-align:left;">Number</td><td style="text-align:left;">成功返回 0,失败返回相应 code 码</td></tr><tr><td style="text-align:left;">message</td><td style="text-align:left;">String</td><td style="text-align:left;">失败描述</td></tr><tr><td style="text-align:left;">totalNumber</td><td style="text-align:left;">Number</td><td style="text-align:left;">返回的POI数目</td></tr><tr><td style="text-align:left;">currentNumber</td><td style="text-align:left;">Number</td><td style="text-align:left;">当前页POI数目</td></tr><tr><td style="text-align:left;">pageNumber</td><td style="text-align:left;">Number</td><td style="text-align:left;">页数</td></tr><tr><td style="text-align:left;">pageIndex</td><td style="text-align:left;">Number</td><td style="text-align:left;">当前页号索引</td></tr><tr><td style="text-align:left;">poiList</td><td style="text-align:left;">Array.&lt;poiObject&gt;</td><td style="text-align:left;">POI信息数组</td></tr></tbody></table><h5 id="poiobject" tabindex="-1">poiObject <a class="header-anchor" href="#poiobject" aria-label="Permalink to &quot;poiObject&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">location</td><td style="text-align:left;">Object</td><td style="text-align:left;"><code>{latitude: 纬度, longitude: 经度}</code></td></tr><tr><td style="text-align:left;">name</td><td style="text-align:left;">String</td><td style="text-align:left;">名称</td></tr><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">类型</td></tr><tr><td style="text-align:left;">distance</td><td style="text-align:left;">Number</td><td style="text-align:left;">距离（单位米）</td></tr><tr><td style="text-align:left;">address</td><td style="text-align:left;">String</td><td style="text-align:left;">地址</td></tr></tbody></table><h4 id="poikeywordssearch-object-callback-poikeywordssearch" tabindex="-1">poiKeywordsSearch（Object,callback);@poiKeywordsSearch <a class="header-anchor" href="#poikeywordssearch-object-callback-poikeywordssearch" aria-label="Permalink to &quot;poiKeywordsSearch（Object,callback);@poiKeywordsSearch&quot;">​</a></h4><blockquote><p>关键字检索</p></blockquote><h5 id="object-2" tabindex="-1">Object <a class="header-anchor" href="#object-2" aria-label="Permalink to &quot;Object&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">key</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">搜索关键字</td></tr><tr><td style="text-align:left;">index</td><td style="text-align:left;">Number</td><td style="text-align:left;">1</td><td style="text-align:left;">否</td><td style="text-align:left;">要获取检索结果的页号索引（每页10条数据）</td></tr><tr><td style="text-align:left;">city</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">查询城市，可选值：cityname（中文或中文全拼）、citycode、adcode.<a href="https://lbs.amap.com/api/webservice/download" target="_blank" rel="noreferrer">code 参考表</a></td></tr><tr><td style="text-align:left;">types</td><td style="text-align:left;">String</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">类型，多个类型用“|”分割 可选值:文本分类、分类代码 <a href="https://lbs.amap.com/api/webservice/download" target="_blank" rel="noreferrer">code 参考表</a></td></tr><tr><td style="text-align:left;">point</td><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">设置后，则返回结果会按照距离此点的距离来排序 <code>{latitude: 纬度, longitude: 经度}</code></td></tr><tr><td style="text-align:left;">sortrule</td><td style="text-align:left;">Number</td><td style="text-align:left;">0</td><td style="text-align:left;">否</td><td style="text-align:left;">排序规则, 0-距离排序；1-综合排序, 默认0</td></tr><tr><td style="text-align:left;">offset</td><td style="text-align:left;">Number</td><td style="text-align:left;">10</td><td style="text-align:left;">否</td><td style="text-align:left;">设置每页条目数（默认每页10条数据）。HBuilder 3.2.13+</td></tr><tr><td style="text-align:left;">cityLimit</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">否</td><td style="text-align:left;">强制城市限制功能 默认 false，例如：在上海搜索天安门，如果citylimit为true，将不返回北京的天安门相关的POI。HBuilder 3.2.13+</td></tr></tbody></table><h5 id="callback-返回-object-参数说明-2" tabindex="-1">callback 返回 Object 参数说明 <a class="header-anchor" href="#callback-返回-object-参数说明-2" aria-label="Permalink to &quot;callback 返回 Object 参数说明&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">type</td><td style="text-align:left;">String</td><td style="text-align:left;">&quot;success&quot; 表示成功， &quot;fail&quot; 表示失败</td></tr><tr><td style="text-align:left;">code</td><td style="text-align:left;">Number</td><td style="text-align:left;">成功返回 0,失败返回相应 code 码</td></tr><tr><td style="text-align:left;">message</td><td style="text-align:left;">String</td><td style="text-align:left;">失败描述</td></tr><tr><td style="text-align:left;">totalNumber</td><td style="text-align:left;">Number</td><td style="text-align:left;">返回的POI数目</td></tr><tr><td style="text-align:left;">currentNumber</td><td style="text-align:left;">Number</td><td style="text-align:left;">当前页POI数目</td></tr><tr><td style="text-align:left;">pageNumber</td><td style="text-align:left;">Number</td><td style="text-align:left;">页数</td></tr><tr><td style="text-align:left;">pageIndex</td><td style="text-align:left;">Number</td><td style="text-align:left;">当前页号索引</td></tr><tr><td style="text-align:left;">poiList</td><td style="text-align:left;">Array.&lt;poiObject&gt;</td><td style="text-align:left;">POI信息数组</td></tr></tbody></table><p><strong>Tips</strong></p><ul><li>App端使用map，nvue比vue更强大，且没有层级问题。</li><li>App端vue页面默认为高德地图，也可以选择百度地图。但app-nvue只有高德地图，没有百度地图。以及地图选择api（mapSearch），只支持高德地图。</li><li>H5 端获取定位信息，需要部署在 <strong>https</strong> 服务上，本地预览（localhost）仍然可以使用 http 协议。</li><li>无 GPS 模块的 PC 设备使用 Chrome 浏览器的时候，位置信息是连接谷歌服务器获取的，国内用户可能获取位置信息失败。</li><li>App 端使用地图组件需要向高德或百度等三方服务商申请SDK资质，获取AppKey，打包时需要在manifest的SDK配置中填写Appkey。在manifest可视化界面有详细申请指南，详见：<a href="https://ask.dcloud.net.cn/article/29" target="_blank" rel="noreferrer">https://ask.dcloud.net.cn/article/29</a></li><li>H5 端使用地图和定位相关，需要在 <a href="https://uniapp.dcloud.io/collocation/manifest.html#h5sdkconfig" target="_blank" rel="noreferrer">manifest.json</a> 内配置腾讯或谷歌等三方地图服务商申请的秘钥（key）。</li><li><code>&lt;map&gt;</code> 组件默认为国测局坐标，调用 <code>uni.getLocation</code> 返回结果传递给 <code>&lt;map&gt;</code> 组件时，需指定 type 为 gcj02。</li></ul><h3 id="三方定位和地图服务收费说明" tabindex="-1">三方定位和地图服务收费说明 <a class="header-anchor" href="#三方定位和地图服务收费说明" aria-label="Permalink to &quot;三方定位和地图服务收费说明&quot;">​</a></h3><p>使用三方定位或者地图服务，需向服务提供商（如：高德地图、百度地图、腾讯地图、谷歌地图）申请商业授权和缴纳费用（5万/年）。</p><p>DCloud为开发者争取了福利，可优惠获取高德的商业授权。如有需求请发邮件到<code>bd@dcloud.io</code>（注明你的公司名称、应用介绍、HBuilder账户）；你也可以直接通过<code>uni-im</code>发起在线咨询，在线咨询地址：<a href="https://im.dcloud.net.cn/#/?user_id=b9839630-a479-11ea-b772-0f6ad6cf835c" target="_blank" rel="noreferrer">DCloud地图服务专员</a>。</p><p>详见：<a href="https://uniapp.dcloud.net.cn/tutorial/app-geolocation.html#lic" target="_blank" rel="noreferrer">https://uniapp.dcloud.net.cn/tutorial/app-geolocation.html#lic</a></p>`,94),d=[n];function o(p,y,r,i,c,g){return e(),l("div",null,d)}const F=t(a,[["render",o]]);export{x as __pageData,F as default};
