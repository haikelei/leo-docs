import{_ as t,c as e,o as s,N as a}from"./chunks/framework.fc67cb9d.js";const F=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/other/open-miniprogram.md","lastUpdated":1685603474000}'),n={name:"api/other/open-miniprogram.md"},l=a(`<h3 id="uni-navigatetominiprogram-object" tabindex="-1">uni.navigateToMiniProgram(OBJECT) <a class="header-anchor" href="#uni-navigatetominiprogram-object" aria-label="Permalink to &quot;uni.navigateToMiniProgram(OBJECT)&quot;">​</a></h3><p>打开另一个小程序。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;"><a href="https://developers.weixin.qq.com/miniprogram/dev/api/navigate/wx.navigateToMiniProgram.html" target="_blank" rel="noreferrer">微信小程序</a></th><th style="text-align:center;"><a href="https://docs.alipay.com/mini/api/open-miniprogram" target="_blank" rel="noreferrer">支付宝小程序</a></th><th style="text-align:center;"><a href="https://smartprogram.baidu.com/docs/develop/api/open_smartprogram/#swan-navigateToSmartProgram/" target="_blank" rel="noreferrer">百度小程序</a></th><th style="text-align:center;"><a href="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/api/open-interface/mini-app-forward/tt-navigate-to-mini-program/" target="_blank" rel="noreferrer">字节跳动小程序</a></th><th style="text-align:center;"><a href="https://q.qq.com/wiki/develop/miniprogram/API/open_port/port_change.html#qq-navigatetominiprogram" target="_blank" rel="noreferrer">QQ小程序</a></th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">x(见下)</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√(1.15.0+)</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><ul><li>App平台打开微信小程序，使用plus.share的<a href="https://www.html5plus.org/doc/zh_cn/share.html#plus.share.ShareService.launchMiniProgram" target="_blank" rel="noreferrer">launchMiniProgram</a>。注意uni-app不需要plus ready，将plus ready里的代码写到页面的onLoad生命周期即可。使用此功能需在manifest中配置微信分享SDK信息，打包后生效。</li><li>各小程序平台对跳转到其他小程序有一些限制和规定，需要遵守，具体见各平台文档。</li></ul><p><strong>OBJECT 参数说明</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">appId</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;">是</td><td style="text-align:left;">要打开的小程序 appId（百度小程序则填写App Key）</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">path</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">打开的页面路径，如果为空则打开首页</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">extraData</td><td style="text-align:left;">object</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">需要传递给目标小程序的数据，目标小程序可在 <code>App.vue </code> 的 <code>onLaunch</code>或<code>onShow</code> 中获取到这份数据。</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">envVersion</td><td style="text-align:left;">string</td><td style="text-align:left;">release</td><td style="text-align:left;">否</td><td style="text-align:left;">要打开的小程序版本，有效值： develop（开发版），trial（体验版），release（正式版）。仅在当前小程序为开发版或体验版时此参数有效。如果当前小程序是正式版，则打开的小程序必定是正式版。</td><td style="text-align:left;">支付宝小程序、微信小程序、字节小程序</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;"></td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td><td style="text-align:left;"> </td></tr></tbody></table><p><strong>示例代码</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">navigateToMiniProgram</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">appId</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pages/index/index?id=123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">extraData</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">data1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">success</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 打开成功</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="uni-navigatebackminiprogram-object" tabindex="-1">uni.navigateBackMiniProgram(OBJECT) <a class="header-anchor" href="#uni-navigatebackminiprogram-object" aria-label="Permalink to &quot;uni.navigateBackMiniProgram(OBJECT)&quot;">​</a></h3><p>跳转回上一个小程序，只有当另一个小程序跳转到当前小程序时才会能调用成功。</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序</th><th style="text-align:center;">飞书小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">x</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><p><strong>OBJECT参数说明</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">必填</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">extraData</td><td style="text-align:left;">Object</td><td style="text-align:left;">否</td><td style="text-align:left;">需要返回给上一个小程序的数据，上一个小程序可在 <code>App.vue </code> 的 <code>onShow</code> 中获取到这份数据</td></tr><tr><td style="text-align:left;">success</td><td style="text-align:left;">function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用成功的回调函数</td></tr><tr><td style="text-align:left;">fail</td><td style="text-align:left;">function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用失败的回调函数</td></tr><tr><td style="text-align:left;">complete</td><td style="text-align:left;">function</td><td style="text-align:left;">否</td><td style="text-align:left;">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>示例代码</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">navigateBackMiniProgram</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">extraData</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">data1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">success</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 返回成功</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="uni-openembeddedminiprogram-object" tabindex="-1">uni.openEmbeddedMiniProgram(OBJECT) <a class="header-anchor" href="#uni-openembeddedminiprogram-object" aria-label="Permalink to &quot;uni.openEmbeddedMiniProgram(OBJECT)&quot;">​</a></h3><p>微信小程序跳转小程序（半屏模式）（从微信础库 2.20.1 开始支持）</p><p>当小程序需要打开另一个小程序让用户进行快捷操作时，可将要打开的小程序以半屏的形态跳转。</p><p><img src="https://web-assets.dcloud.net.cn/unidoc/zh/wx-miniprogram.jpeg" alt=""></p><p><strong>调用流程</strong></p><ol><li>微信小程序2.23.1以下版本基础库，开发者需要在全局配置<code>manifest.json</code>--&gt;<code>mp-weixin</code>节点下添加<code>embeddedAppIdList</code>字段并声明需要半屏跳转的小程序，若不配置将切换为普通的小程序跳转小程序。2.23.1及以上版本起无需配置。</li></ol><p>配置示例：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mp-weixin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> : </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">embeddedAppIdList</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">wxe5f52902cf4de896</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">]</span><span style="color:#676E95;font-style:italic;">//需要半屏跳转的小程序appid</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>开发者通过调用uni.openEmbeddedMiniProgram半屏跳转小程序：</li></ol><table><thead><tr><th>属性</th><th>类型</th><th>默认值</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>appId</td><td>string</td><td></td><td>是</td><td>要打开的小程序 appId</td></tr><tr><td>path</td><td>string</td><td></td><td>否</td><td>打开的页面路径，如果为空则打开首页。path 中 ? 后面的部分会成为 query，在小程序的<code>App.vue </code> 的 <code>onLaunch</code>、<code>onShow</code>和 Page.onLoad 的回调函数中可以获取到 query 数据。对于小游戏，可以只传入 query 部分，来实现传参效果，如：传入 &quot;?foo=bar&quot;。<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/openEmbeddedMiniProgram.html" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td>extraData</td><td>object</td><td></td><td>否</td><td>需要传递给目标小程序的数据，目标小程序可在 <code>App.vue </code> 的 <code>onLaunch</code>或<code>onShow</code> 中获取到这份数据。<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/openEmbeddedMiniProgram.html" target="_blank" rel="noreferrer">详见</a></td></tr><tr><td>envVersion</td><td>string</td><td>release</td><td>否</td><td>要打开的小程序版本，有效值： develop（开发版），trial（体验版），release（正式版）。仅在当前小程序为开发版或体验版时此参数有效。如果当前小程序是正式版，则打开的小程序必定是正式版。</td></tr><tr><td>shortLink</td><td>string</td><td></td><td>否</td><td>小程序链接，当传递该参数后，可以不传 appId 和 path。链接可以通过【小程序菜单】-&gt;【复制链接】获取。</td></tr><tr><td>success</td><td>function</td><td></td><td>否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td>function</td><td></td><td>否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>function</td><td></td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>示例代码</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">openEmbeddedMiniProgram</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">appId</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pages/index/index?id=123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">extraData</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">data1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">success</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 打开成功</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p><strong>使用限制</strong></p><p>2022年3月18日后，使用过程有以下限制，若不符合以下所有条件将被自动切换为普通的小程序跳转小程序，不影响用户使用：</p><ol><li>被半屏跳转的小程序需要通过来源小程序的调用申请，开发者可在 小程序管理后台「设置」-「第三方设置」-「半屏小程序管理」板块发起申请，最多可以申请10个小程序；</li><li>微信小程序2.23.1版本以下基础库，被半屏打开的小程序需要在全局配置<code>manifest.json</code>--&gt;<code>mp-weixin</code>节点下添加<code>embeddedAppIdList</code>字段并声明；</li><li>当前小程序需为竖屏；</li><li>被半屏跳转的小程序需为非个人主体小程序（不含小游戏）</li></ol><p>2022年3月18日前，使用过程有以下限制，若不符合以下所有条件将被自动切换为普通的小程序跳转小程序，不影响用户使用：</p><ol><li>不能在横屏下打开半屏小程序</li><li>能打开小游戏</li><li>跳转目标小程序需符合以下类目，<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/openEmbeddedMiniProgram.html" target="_blank" rel="noreferrer">详见小程序文档</a></li></ol>`,34),o=[l];function p(r,d,i,c,y,g){return s(),e("div",null,o)}const h=t(n,[["render",p]]);export{F as __pageData,h as default};
