import{_ as s,c as a,o as n,N as l}from"./chunks/framework.fc67cb9d.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/other/report.md","lastUpdated":1685603474000}'),p={name:"api/other/report.md"},o=l(`<div class="warning custom-block"><p class="custom-block-title">注意</p><p>推荐使用 <a href="https://uniapp.dcloud.io/uni-stat-v2.html" target="_blank" rel="noreferrer">uni统计2.0</a></p></div><h2 id="统计" tabindex="-1">统计 <a class="header-anchor" href="#统计" aria-label="Permalink to &quot;统计&quot;">​</a></h2><p>从uni-app 2.2.3起，支持uni统计。一张报表，掌握全端数据。业务介绍详见<a href="https://tongji.dcloud.net.cn" target="_blank" rel="noreferrer">https://tongji.dcloud.net.cn</a></p><p>自定义事件是统计中不可或缺的功能。开发者可通过本API自定义上报统计数据，如统计登录、注册、点击某个按钮，我们都可以称之为自定义事件。</p><h3 id="uni-report-eventkey-param" tabindex="-1">uni.report( eventKey , param) <a class="header-anchor" href="#uni-report-eventkey-param" aria-label="Permalink to &quot;uni.report( eventKey , param)&quot;">​</a></h3><p><strong>参数说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>eventKey</td><td>String</td><td>事件名称，最大长度不超过 255 个字符</td></tr><tr><td>param</td><td>String 、 Object</td><td>事件参数</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">提示</p><ul><li>eventKey 为 String 类型，并且字符长度必须小于255</li><li>param 为 String 类型时，字符长度必须小于255</li><li>param 为 Object 类型时，该对象的值只能为 String 类型</li><li>字符串支持特殊字符但不包括（英文逗号 , 英文冒号 : 点 .）</li><li>eventKey 为 <code>title</code> 时为内容标题上报，用户不能自定义。此时数据会展现在uni统计的首页-内容统计及左侧导航的内容统计中。方便查看内容页数据。</li><li>用户在使用 <code>uni.login()</code> 会执行登录事件，不携带参数。如果如需上报携带具体参数的数据，需要手动调用 <code>uni.report(&#39;login&#39;,{...})</code></li><li>用户在使用 <code>uni.share()</code> 或触发 <code>onShareAppMessage</code> 会执行分享事件，不携带参数。如果如需上报携带具体参数的数据，需要手动调用 <code>uni.report(&#39;share&#39;,{...})</code></li><li>用户在使用 <code>uni.requestPayment()</code> 会执行支付事件，不携带参数。如果如需上报携带具体参数的数据，需要手动调用 <code>uni.report(&#39;pay_success&#39;,{...})</code> 和 <code>uni.report(&#39;pay_fail&#39;,{...})</code></li></ul></div><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 内容统计</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 当 eventKey 为 title 时，param 只能为 String 类型</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">title</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">首页</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 登录</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">login</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">uni-app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">21</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 分享</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">share</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">分享</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 支付成功</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pay_success</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">支付成功</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// or</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pay_success</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">订单金额</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20元</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">订单名称</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">鼠标</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 支付失败</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pay_fail</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">支付失败</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// or</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pay_fail</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">订单金额</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20元</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">订单名称</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">鼠标</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 注册</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">register</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">uni-app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">21</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 搜索</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">search</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">搜索内容</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// or</span></span>
<span class="line"><span style="color:#A6ACCD;">uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">report</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">search</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">内容</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">搜索内容</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>自定义事件上报后：</p><ul><li>统计1.0在统计后台的<code>事件和转换</code>栏目中，可以看到上报的事件情况。</li><li>统计2.0在uni-admin后台的<code>uni 统计 --&gt; 自定义事件</code>栏目中，可以看到上报的事件情况。</li></ul><div class="tip custom-block"><p class="custom-block-title">提示</p><ul><li>小程序平台，需将<code>tongji.dcloud.net.cn</code>配入域名白名单，<a href="https://ask.dcloud.net.cn/article/36298" target="_blank" rel="noreferrer">详见</a></li><li>uni统计使用教程：<a href="https://uniapp.dcloud.io/uni-stat-v2.html" target="_blank" rel="noreferrer">uni统计2.0</a>、<a href="https://uniapp.dcloud.io/uni-stat-v1.html" target="_blank" rel="noreferrer">uni统计1.0</a></li></ul></div><h3 id="支持-uni-report-的-uni-ui-组件" tabindex="-1">支持 uni.report 的 uni-ui 组件 <a class="header-anchor" href="#支持-uni-report-的-uni-ui-组件" aria-label="Permalink to &quot;支持 uni.report 的 uni-ui 组件&quot;">​</a></h3><p><code>uni-ui</code> 中内置了一些数据采集相关的组件,用户使用这些组件，并设置属性 <code>stat:true</code>，即可在使用相关组件时，自动上报相关自定义数据</p><ul><li><a href="https://ext.dcloud.net.cn/plugin?name=uni-nav-bar" target="_blank" rel="noreferrer">uni-nav-bar</a></li><li><a href="https://ext.dcloud.net.cn/plugin?name=uni-title" target="_blank" rel="noreferrer">uni-title</a></li><li><a href="https://ext.dcloud.net.cn/plugin?name=uni-group" target="_blank" rel="noreferrer">uni-group</a></li><li><a href="https://ext.dcloud.net.cn/plugin?name=uni-goods-nav" target="_blank" rel="noreferrer">uni-goods-nav</a></li></ul><h3 id="非官方自定义统计" tabindex="-1">非官方自定义统计 <a class="header-anchor" href="#非官方自定义统计" aria-label="Permalink to &quot;非官方自定义统计&quot;">​</a></h3><p>除了官方的uni统计，如果开发者还需要调用小程序平台的自定义统计，给小程序的后台上报数据，那么需使用条件编译，在各端调用此自己的API。</p><h4 id="微信小程序平台" tabindex="-1">微信小程序平台： <a class="header-anchor" href="#微信小程序平台" aria-label="Permalink to &quot;微信小程序平台：&quot;">​</a></h4><ul><li>数据上报：<a href="https://developers.weixin.qq.com/minigame/dev/api/data-analysis/wx.reportMonitor.html" target="_blank" rel="noreferrer">wx.reportMonitor</a></li><li>数据分析：<a href="https://developers.weixin.qq.com/miniprogram/dev/api/data-analysis/wx.reportAnalytics.html" target="_blank" rel="noreferrer">wx.reportAnalytics</a></li></ul><h4 id="支付宝小程序平台" tabindex="-1">支付宝小程序平台： <a class="header-anchor" href="#支付宝小程序平台" aria-label="Permalink to &quot;支付宝小程序平台：&quot;">​</a></h4><ul><li>自定义分析数据的上报接口：<a href="https://docs.alipay.com/mini/api/report" target="_blank" rel="noreferrer">my.reportAnalytics</a></li></ul><h4 id="百度小程序平台" tabindex="-1">百度小程序平台： <a class="header-anchor" href="#百度小程序平台" aria-label="Permalink to &quot;百度小程序平台：&quot;">​</a></h4><ul><li>数据分析：<a href="https://smartprogram.baidu.com/docs/develop/api/data/#swan-reportAnalytics/" target="_blank" rel="noreferrer">swan.reportAnalytics</a></li></ul><h4 id="字节跳动小程序平台" tabindex="-1">字节跳动小程序平台： <a class="header-anchor" href="#字节跳动小程序平台" aria-label="Permalink to &quot;字节跳动小程序平台：&quot;">​</a></h4><ul><li><a href="https://developer.open-douyin.com/docs/resource/zh-CN/mini-game/develop/open-capacity/data-analysis/tt-report-analytics/" target="_blank" rel="noreferrer">reportAnalytics</a></li></ul><h4 id="qq小程序平台" tabindex="-1">QQ小程序平台： <a class="header-anchor" href="#qq小程序平台" aria-label="Permalink to &quot;QQ小程序平台：&quot;">​</a></h4><ul><li>数据上报：<a href="https://q.qq.com/wiki/develop/miniprogram/API/open_port/port_dataup.html" target="_blank" rel="noreferrer">qq.reportMonitor</a></li><li>数据分析：<a href="https://q.qq.com/wiki/develop/miniprogram/API/open_port/port_dataanalysis.html#qq-reportanalytics" target="_blank" rel="noreferrer">qq.reportAnalytics</a></li></ul><h4 id="app平台的友盟统计" tabindex="-1">App平台的友盟统计： <a class="header-anchor" href="#app平台的友盟统计" aria-label="Permalink to &quot;App平台的友盟统计：&quot;">​</a></h4><ul><li>友盟统计：<a href="http://www.html5plus.org/doc/zh_cn/statistic.html" target="_blank" rel="noreferrer">开发规范</a>，<a href="https://ask.dcloud.net.cn/article/74" target="_blank" rel="noreferrer">配置文档</a></li></ul>`,30),e=[o];function t(r,c,i,D,y,F){return n(),a("div",null,e)}const h=s(p,[["render",t]]);export{d as __pageData,h as default};
