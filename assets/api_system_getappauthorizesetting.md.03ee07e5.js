import{_ as t,c as e,o as l,N as n}from"./chunks/framework.fc67cb9d.js";const h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"api/system/getappauthorizesetting.md","lastUpdated":1685603474000}'),o={name:"api/system/getappauthorizesetting.md"},s=n(`<h3 id="uni-getappauthorizesetting" tabindex="-1">uni.getAppAuthorizeSetting() <a class="header-anchor" href="#uni-getappauthorizesetting" aria-label="Permalink to &quot;uni.getAppAuthorizeSetting()&quot;">​</a></h3><p>获取 APP 授权设置</p><p><strong>平台差异说明</strong></p><table><thead><tr><th style="text-align:center;">App</th><th style="text-align:center;">H5</th><th style="text-align:center;">微信小程序</th><th style="text-align:center;">支付宝小程序</th><th style="text-align:center;">百度小程序</th><th style="text-align:center;">字节跳动小程序、飞书小程序</th><th style="text-align:center;">钉钉小程序</th><th style="text-align:center;">QQ小程序</th><th style="text-align:center;">快手小程序</th><th style="text-align:center;">京东小程序</th></tr></thead><tbody><tr><td style="text-align:center;">HBuilderX (3.5.2+)</td><td style="text-align:center;">x</td><td style="text-align:center;">基础库 (2.20.1+)</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td><td style="text-align:center;">x</td></tr></tbody></table><p><strong>返回参数说明</strong></p><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">albumAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;</td><td style="text-align:left;">允许使用相册的开关</td><td style="text-align:left;">App 端仅 iOS 支持</td></tr><tr><td style="text-align:left;">bluetoothAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;/&#39;config error&#39;</td><td style="text-align:left;">允许使用蓝牙的开关</td><td style="text-align:left;">App 端仅 iOS 支持</td></tr><tr><td style="text-align:left;">cameraAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;/&#39;config error&#39;</td><td style="text-align:left;">允许使用摄像头的开关</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">locationAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;/&#39;config error&#39;</td><td style="text-align:left;">允许使用定位的开关</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">locationAccuracy</td><td style="text-align:left;">String</td><td style="text-align:left;">定位准确度。<code>&quot;reduced&quot;</code> 表示模糊定位；<code>&quot;full&quot;</code> 表示精准定位；<code>&quot;unsupported&quot;</code> 表示不支持</td><td style="text-align:left;">App 端仅 iOS 支持</td></tr><tr><td style="text-align:left;">microphoneAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;/&#39;config error&#39;</td><td style="text-align:left;">允许使用麦克风的开关</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">notificationAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;/&#39;config error&#39;</td><td style="text-align:left;">允许通知的开关</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">notificationAlertAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;/&#39;config error&#39;</td><td style="text-align:left;">允许通知带有提醒的开关</td><td style="text-align:left;">App 端仅 iOS（10.0+）支持</td></tr><tr><td style="text-align:left;">notificationBadgeAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;/&#39;config error&#39;</td><td style="text-align:left;">允许通知带有标记的开关</td><td style="text-align:left;">App 端仅 iOS（10.0+）支持</td></tr><tr><td style="text-align:left;">notificationSoundAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;/&#39;config error&#39;</td><td style="text-align:left;">允许通知带有声音的开关</td><td style="text-align:left;">App 端仅 iOS（10.0+）支持</td></tr><tr><td style="text-align:left;">phoneCalendarAuthorized</td><td style="text-align:left;">&#39;authorized&#39;/&#39;denied&#39;/&#39;not determined&#39;</td><td style="text-align:left;">允许读写日历的开关</td><td style="text-align:left;">App 端不支持</td></tr></tbody></table><blockquote><p>App 端需要获取更多权限状态可参考插件: <a href="https://ext.dcloud.net.cn/plugin?id=594" target="_blank" rel="noreferrer">App权限判断和提示</a></p></blockquote><h4 id="不推荐使用的返回参数-仅为兼容保留" tabindex="-1">不推荐使用的返回参数，仅为兼容保留 <a class="header-anchor" href="#不推荐使用的返回参数-仅为兼容保留" aria-label="Permalink to &quot;不推荐使用的返回参数，仅为兼容保留&quot;">​</a></h4><p>|locationReducedAccuracy|boolean|模糊定位。true 表示模糊定位，false 表示精确定位 |App 端仅 iOS 支持|</p><p><strong>Tips：</strong></p><ul><li><code>&#39;authorized&#39;</code>：表示已经获得授权，无需再次请求授权；</li><li><code>&#39;denied&#39;</code>：表示请求授权被拒绝，无法再次请求授权；（此情况需要引导用户打开系统设置，在设置页中打开权限）</li><li><code>&#39;not determined&#39;</code>：表示尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关）</li><li><code>&#39;config error&#39;</code>：只有在 App 端时返回 <ul><li>bluetoothAuthorized： <ul><li>Android平台不会返回 <code>config error</code></li><li>iOS平台：表示没有在 <code>manifest.json -&gt; App模块配置</code> 中配置 <code>BlueTooth(低功耗蓝牙)</code> 模块</li></ul></li><li>cameraAuthorized： <ul><li>Android平台：表示没有授予 <code>android.permission.CAMERA</code> 权限</li><li>iOS平台不会返回 <code>config error</code></li></ul></li><li>locationAuthorized： <ul><li>Android平台：表示没有授予 <code>android.permission.ACCESS_COARSE_LOCATION</code> 权限</li><li>iOS平台：表示没有在 <code>manifest.json -&gt; App模块配置</code> 中配置 <code>Geolocation(定位)</code> 模块</li></ul></li><li>microphoneAuthorized： <ul><li>Android平台：表示没有授予 <code>android.permission.RECORD_AUDIO</code> 权限</li><li>iOS平台不会返回 <code>config error</code></li></ul></li><li>notificationAuthorized、notificationAlertAuthorized、notificationBadgeAuthorized、notificationSoundAuthorized： <ul><li>Android平台不支持</li><li>iOS平台：表示没有在 <code>manifest.json -&gt; App模块配置</code> 中配置 <code>Push(推送)</code> 模块</li></ul></li></ul></li></ul><p><strong>示例</strong></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> appAuthorizeSetting </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> uni</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getAppAuthorizeSetting</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">albumAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bluetoothAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cameraAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">locationAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">locationReducedAccuracy)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">microphoneAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">notificationAlertAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">notificationAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">notificationBadgeAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">notificationSoundAuthorized)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(appAuthorizeSetting</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">phoneCalendarAuthorized)</span></span>
<span class="line"></span></code></pre></div>`,13),a=[s];function i(r,d,p,c,A,y){return l(),e("div",null,a)}const u=t(o,[["render",i]]);export{h as __pageData,u as default};
